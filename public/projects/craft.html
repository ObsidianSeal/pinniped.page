<!DOCTYPE html>

<html lang="en">
	<head>
		<title>Finite Craft</title>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../images/icon.png" />

		<meta property="og:url" content="https://pinniped.page/projects/craft" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Finite Craft" />
		<meta property="og:description" content="Infinite Craft, but just the crafting part." />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<meta name="description" content="Infinite Craft, but just the crafting part." />
		<meta name="keywords" content="craft" />

		<script src="https://kit.fontawesome.com/c6ef7d4818.js" crossorigin="anonymous"></script>

		<style>
			/* FONT(S) FROM GOOGLE FONTS */
			@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@500;700");
			@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300");

			/* PHOTOSHOP "GRAYSCALE", "LIGHT", and 2 from "PALE" COLOURS, plus ~38% opacity */
			:root {
				--white: #ffffff;
				--grey10: #ebebeb;
				--grey15: #e1e1e1;
				--grey20: #d7d7d7;
				--grey25: #cccccc;
				--grey30: #c2c2c2;
				--grey35: #b7b7b7;
				--grey40: #acacac;
				--grey45: #a1a1a1;
				--grey50: #959595;
				--grey55: #898989;
				--grey60: #7d7d7d;
				--grey65: #707070;
				--grey70: #636363;
				--grey75: #555555;
				--grey80: #464646;
				--grey85: #363636;
				--grey90: #252525;
				--grey95: #111111;
				--black: #000000;

				--red: #f26c4f;
				--red-orange: #f68e56;
				--yellow-orange: #fbaf5d;
				--yellow: #fff568;
				--pea-green: #acd373;
				--yellow-green: #7cc576;
				--green: #3cb878;
				--green-cyan: #1cbbb4;
				--cyan: #00bff3;
				--cyan-blue: #448ccb;
				--blue: #5674b9;
				--blue-violet: #605ca8;
				--violet: #8560a8;
				--violet-magenta: #a864a8;
				--magenta: #f06eaa;
				--magenta-red: #f26d7d;

				--tan: #c69c6d;
				--brown: #8c6239;

				--red-less: #f26c4f80;
				--red-orange-less: #f68e5680;
				--yellow-orange-less: #fbaf5d80;
				--yellow-less: #fff56880;
				--pea-green-less: #acd37380;
				--yellow-green-less: #7cc57680;
				--green-less: #3cb87880;
				--green-cyan-less: #1cbbb480;
				--cyan-less: #00bff380;
				--cyan-blue-less: #448ccb80;
				--blue-less: #5674b980;
				--blue-violet-less: #605ca880;
				--violet-less: #8560a880;
				--violet-magenta-less: #a864a880;
				--magenta-less: #f06eaa80;
				--magenta-red-less: #f26d7d80;

				--tan-less: #c69c6d80;
				--brown-less: #8c623980;

				--light-grey-less: #c2c2c280;
				--dark-grey-less: #7d7d7d80;
			}

			/* REGULAR CSS */

			* {
				margin: 0;
				border: 0;
				padding: 0;
				font-family: "Space Grotesk";
				font-weight: 300;
				font-size: 20px;

				/* all user-select properties, from https://css-tricks.com/almanac/properties/u/user-select/ */
				-webkit-user-select: none; /* Chrome all / Safari all */
				-moz-user-select: none; /* Firefox all */
				-ms-user-select: none; /* IE 10+ */
				user-select: none; /* Likely future */
			}

			::-webkit-scrollbar {
				width: 20px;
			}

			::-webkit-scrollbar-thumb {
				background-color: var(--grey90);
				border: 5px solid var(--grey85);
				border-radius: 50px;
			}

			::-webkit-scrollbar-thumb:hover {
				background-color: var(--grey95);
			}

			body {
				background-color: var(--grey90);

				overflow: hidden;
			}

			h1,
			.discovered-fraction,
			.version,
			.clear-button {
				position: absolute;
				font-family: "Roboto";
				color: var(--grey85);
			}

			h1 {
				top: 50px;
				left: 50px;
				font-weight: 700;
				font-size: 50px;
			}

			h1 a {
				font-family: inherit;
				font-weight: inherit;
				font-size: inherit;
				color: inherit;

				text-decoration: none;
			}

			h1 a:hover,
			.clear-button:hover {
				color: var(--grey80);
				cursor: pointer;
			}

			.discovered-items {
				position: absolute;
				right: 0;
				display: flex;
				align-content: flex-start;
				gap: 10px;
				flex-wrap: wrap;

				width: calc(500px - 40px);
				height: calc(100% - 40px);
				padding: 20px;

				background-color: var(--grey85);

				overflow-y: scroll;
			}

			.discovered-fraction {
				bottom: 50px;
				left: 50px;
				font-weight: 700;
				font-size: 80px;
			}

			.version,
			.clear-button {
				font-weight: 500;
				font-size: 30px;
			}

			.version {
				top: 120px;
				left: 50px;
			}

			.clear-button {
				right: 550px;
				bottom: 50px;
			}

			.item-container .item {
				position: absolute;
			}

			.item {
				height: fit-content;
				padding: 3px 7px 7px 7px;
				border-width: 2px;
				border-style: solid;
				border-radius: 7px;

				background-color: var(--black);
				color: var(--white);

				white-space: nowrap;
			}

			.item i {
				margin-right: 10px;
				translate: 0 2px;
			}

			.item:hover {
				cursor: pointer;
			}

			/* COLOUR CLASSES - border */

			.red {
				border-color: var(--red);
			}

			.red-orange {
				border-color: var(--red-orange);
			}

			.yellow-orange {
				border-color: var(--yellow-orange);
			}

			.yellow {
				border-color: var(--yellow);
			}

			.pea-green {
				border-color: var(--pea-green);
			}

			.yellow-green {
				border-color: var(--yellow-green);
			}

			.green {
				border-color: var(--green);
			}

			.green-cyan {
				border-color: var(--green-cyan);
			}

			.cyan {
				border-color: var(--cyan);
			}

			.cyan-blue {
				border-color: var(--cyan-blue);
			}

			.blue {
				border-color: var(--blue);
			}

			.blue-violet {
				border-color: var(--blue-violet);
			}

			.violet {
				border-color: var(--violet);
			}

			.violet-magenta {
				border-color: var(--violet-magenta);
			}

			.magenta {
				border-color: var(--magenta);
			}

			.magenta-red {
				border-color: var(--magenta-red);
			}

			.tan {
				border-color: var(--tan);
			}

			.brown {
				border-color: var(--brown);
			}

			.light-grey {
				border-color: var(--grey30);
			}

			.dark-grey {
				border-color: var(--grey60);
			}

			/* COLOUR CLASSES - icon */

			.red i {
				color: var(--red);
			}

			.red-orange i {
				color: var(--red-orange);
			}

			.yellow-orange i {
				color: var(--yellow-orange);
			}

			.yellow i {
				color: var(--yellow);
			}

			.pea-green i {
				color: var(--pea-green);
			}

			.yellow-green i {
				color: var(--yellow-green);
			}

			.green i {
				color: var(--green);
			}

			.green-cyan i {
				color: var(--green-cyan);
			}

			.cyan i {
				color: var(--cyan);
			}

			.cyan-blue i {
				color: var(--cyan-blue);
			}

			.blue i {
				color: var(--blue);
			}

			.blue-violet i {
				color: var(--blue-violet);
			}

			.violet i {
				color: var(--violet);
			}

			.violet-magenta i {
				color: var(--violet-magenta);
			}

			.magenta i {
				color: var(--magenta);
			}

			.magenta-red i {
				color: var(--magenta-red);
			}

			.tan i {
				color: var(--tan);
			}

			.brown i {
				color: var(--brown);
			}

			.light-grey i {
				color: var(--grey30);
			}

			.dark-grey i {
				color: var(--grey60);
			}

			/* COLOUR CLASSES - hover (background) */

			.red:hover {
				background-image: linear-gradient(var(--black), var(--red-less));
			}

			.red-orange:hover {
				background-image: linear-gradient(var(--black), var(--red-orange-less));
			}

			.yellow-orange:hover {
				background-image: linear-gradient(var(--black), var(--yellow-orange-less));
			}

			.yellow:hover {
				background-image: linear-gradient(var(--black), var(--yellow-less));
			}

			.pea-green:hover {
				background-image: linear-gradient(var(--black), var(--pea-green-less));
			}

			.yellow-green:hover {
				background-image: linear-gradient(var(--black), var(--yellow-green-less));
			}

			.green:hover {
				background-image: linear-gradient(var(--black), var(--green-less));
			}

			.green-cyan:hover {
				background-image: linear-gradient(var(--black), var(--green-cyan-less));
			}

			.cyan:hover {
				background-image: linear-gradient(var(--black), var(--cyan-less));
			}

			.cyan-blue:hover {
				background-image: linear-gradient(var(--black), var(--cyan-blue-less));
			}

			.blue:hover {
				background-image: linear-gradient(var(--black), var(--blue-less));
			}

			.blue-violet:hover {
				background-image: linear-gradient(var(--black), var(--blue-violet-less));
			}

			.violet:hover {
				background-image: linear-gradient(var(--black), var(--violet-less));
			}

			.violet-magenta:hover {
				background-image: linear-gradient(var(--black), var(--violet-magenta-less));
			}

			.magenta:hover {
				background-image: linear-gradient(var(--black), var(--magenta-less));
			}

			.magenta-red:hover {
				background-image: linear-gradient(var(--black), var(--magenta-red-less));
			}

			.tan:hover {
				background-image: linear-gradient(var(--black), var(--tan-less));
			}

			.brown:hover {
				background-image: linear-gradient(var(--black), var(--brown-less));
			}

			.light-grey:hover {
				background-image: linear-gradient(var(--black), var(--light-grey-less));
			}

			.dark-grey:hover {
				background-image: linear-gradient(var(--black), var(--dark-grey-less));
			}
		</style>
	</head>

	<body>
		<div class="discovered-items"></div>
		<h1><a href="../index.html">pinniped.page</a>/craft</h1>
		<span class="discovered-fraction"></span>
		<span class="version"></span>
		<span class="clear-button">clear</span>
		<div class="item-container"></div>

		<script>
			// for decimal/base64 conversion
			const characters = [
				"0",
				"1",
				"2",
				"3",
				"4",
				"5",
				"6",
				"7",
				"8",
				"9",
				"a",
				"b",
				"c",
				"d",
				"e",
				"f",
				"g",
				"h",
				"i",
				"j",
				"k",
				"l",
				"m",
				"n",
				"o",
				"p",
				"q",
				"r",
				"s",
				"t",
				"u",
				"v",
				"w",
				"x",
				"y",
				"z",
				"A",
				"B",
				"C",
				"D",
				"E",
				"F",
				"G",
				"H",
				"I",
				"J",
				"K",
				"L",
				"M",
				"N",
				"O",
				"P",
				"Q",
				"R",
				"S",
				"T",
				"U",
				"V",
				"W",
				"X",
				"Y",
				"Z",
				"-",
				"_",
			];

			// combinations!
			const recipes = [
				["earth", "earth", "land"],
				["land", "land", "country"],
				["earth", "air", "dust"],
				["earth", "fire", "brick"],
				["earth", "water", "mud"],
				["air", "air", "atmosphere"],
				["air", "fire", "smoke"],
				["air", "water", "bubble"],
				["fire", "fire", "hot"],
				["fire", "water", "steam"],
				["water", "water", "puddle"],
				["puddle", "puddle", "pond"],
				["house", "life", "human"],
				["human", "smoke", "death"],
				["human", "human", "love"],
				["pond", "pond", "river"],
				["river", "river", "lake"],
				["lake", "lake", "sea"],
				["sea", "sea", "ocean"],
				["country", "country", "continent"],
				["continent", "continent", "planet"],
				["planet", "atmosphere", "life"],
				["mud", "brick", "house"],
				["house", "house", "village"],
				["village", "village", "town"],
				["town", "town", "city"],
				["town", "house", "building"],
				["city", "house", "tower"],
				["air", "life", "bird"],
				["earth", "life", "bug"],
				["fire", "life", "death"],
				["water", "life", "fish"],
				["land", "life", "animal"],
				["bug", "earth", "ant"],
				["animal", "city", "raccoon"],
				["sea", "animal", "seal"],
				["ocean", "animal", "whale"],
				["hot", "air", "wind"],
				["life", "death", "opposite"],
				["brick", "brick", "wall"],
				["brick", "earth", "road"],
				["opposite", "death", "life"],
				["opposite", "life", "death"],
				["opposite", "hot", "cold"],
				["opposite", "cold", "hot"],
				["opposite", "love", "hate"],
				["opposite", "hate", "love"],
				["opposite", "wall", "door"],
				["opposite", "door", "wall"],
				["antonym", "death", "life"],
				["antonym", "life", "death"],
				["antonym", "hot", "cold"],
				["antonym", "cold", "hot"],
				["antonym", "love", "hate"],
				["antonym", "hate", "love"],
				["antonym", "wall", "door"],
				["antonym", "door", "wall"],
				["opposite", "opposite", "synonym"],
				["opposite", "synonym", "antonym"],
				["opposite", "antonym", "synonym"],
				["synonym", "antonym", "opposite"],
				["antonym", "antonym", "synonym"],
				["human", "synonym", "thinking"],
				["human", "antonym", "thinking"],
				["thinking", "thinking", "idea"],
				["earth", "idea", "dig"],
				["air", "idea", "breathe"],
				["fire", "idea", "hot"],
				["water", "idea", "drink"],
				["breathe", "idea", "life"],
				["hot", "idea", "cook"],
				["dig", "human", "mine"],
				["mine", "idea", "property"],
				["mine", "thinking", "deep"],
				["house", "property", "yard"],
				["road", "idea", "movement"],
				["human", "movement", "dance"],
				["human", "dance", "dancer"],
				["movement", "idea", "travel"],
				["travel", "idea", "vehicle"],
				["vehicle", "idea", "engine"],
				["vehicle", "thinking", "wheel"],
				["road", "vehicle", "car"],
				["water", "vehicle", "boat"],
				["boat", "boat", "ship"],
				["earth", "thinking", "dirt"],
				["air", "thinking", "sky"],
				["fire", "thinking", "hot"],
				["water", "thinking", "cold"],
				["sky", "vehicle", "airplane"],
				["human", "engine", "engineer"],
				["engine", "vehicle", "train"],
				["city", "train", "subway"],
				["boat", "human", "sailor"],
				["airplane", "human", "pilot"],
				["pilot", "thinking", "navigation"],
				["sky", "fire", "sun"],
				["sun", "opposite", "moon"],
				["sun", "antonym", "moon"],
				["moon", "opposite", "sun"],
				["moon", "antonym", "sun"],
				["human", "idea", "writing"],
				["human", "thinking", "art"],
				["human", "writing", "book"],
				["human", "art", "painting"],
				["thinking", "idea", "example"],
				["idea", "idea", "invention"],
				["earth", "synonym", "dirt"],
				["air", "dirt", "dust"],
				["fish", "fire", "food"],
				["writing", "example", "script"],
				["book", "example", "1984"],
				["1984", "idea", "time"],
				["1984", "thinking", "time"],
				["1984", "time", "2024"],
				["2024", "time", "the future"],
				["human", "land", "property"],
				["engine", "engineer", "generator"],
				["generator", "water", "electricity"],
				["generator", "wind", "electricity"],
				["generator", "the tide", "electricity"],
				["sea", "moon", "the tide"],
				["ocean", "moon", "the tide"],
				["electricity", "idea", "energy"],
				["electricity", "thinking", "energy"],
				["the tide", "thinking", "movement"],
				["example", "movement", "the tide"],
				["movement", "invention", "vehicle"],
				["boat", "movement", "travel"],
				["human", "life", "thinking"],
				["synonym", "synonym", "example"],
				["airplane", "example", "Boeing 737"],
				["hot", "water", "steam"],
				["steam", "generator", "electricity"],
				["example", "earth", "clay"],
				["hot", "drink", "coffee"],
				["pond", "animal", "frog"],
				["wall", "door", "house"],
				["2024", "thinking", "AI"],
				["dust", "human", "allergies"],
				["opposite", "AI", "human"],
				["AI", "bug", "error"],
				["code", "bug", "error"],
				["program", "bug", "error"],
				["programmer", "bug", "error"],
				["programming language", "bug", "error"],
				["engine", "AI", "computer"],
				["script", "generator", "AI"],
				["smoke", "generator", "fire"],
				["human", "error", "mistake"],
				["AI", "land", "computer"],
				["AI", "house", "computer"],
				["computer", "bug", "error"],
				["human", "invention", "time"],
				["thinking", "love", "happiness"],
				["idea", "love", "happiness"],
				["happiness", "thinking", "fun"],
				["happiness", "idea", "emotion"],
				["computer", "fun", "video game"],
				["video game", "example", "Lethal Company"],
				["computer", "script", "code"],
				["code", "code", "program"],
				["program", "human", "programmer"],
				["code", "human", "programmer"],
				["code", "writing", "programming language"],
				["programming language", "example", "Java"],
				["Java", "synonym", "coffee"],
				["ant", "thinking", "small"],
				["planet", "thinking", "big"],
				["continent", "thinking", "big"],
				["ocean", "thinking", "big"],
				["book", "human", "reading"],
				["sun", "moon", "opposite"],
				["hot", "cold", "opposite"],
				["big", "small", "opposite"],
				["love", "hate", "opposite"],
				["writing", "reading", "opposite"],
				["happiness", "opposite", "sadness"],
				["happiness", "antonym", "sadness"],
				["mistake", "emotion", "sadness"],
				["opposite", "big", "small"],
				["antonym", "big", "small"],
				["opposite", "small", "big"],
				["antonym", "small", "big"],
				["opposite", "writing", "reading"],
				["antonym", "writing", "reading"],
				["opposite", "reading", "writing"],
				["antonym", "reading", "writing"],
				["opposite", "happiness", "sadness"],
				["antonym", "happiness", "sadness"],
				["opposite", "sadness", "happiness"],
				["antonym", "sadness", "happiness"],
				["happiness", "sadness", "opposite"],
				["human", "love", "happiness"],
				["hot", "land", "desert"],
				["mine", "mine", "rock"],
				["water", "rock", "sand"],
				["desert", "dirt", "sand"],
				["desert", "earth", "sand"],
				["wheel", "wheel", "bicycle"],
				["cold", "drink", "water"],
				["clay", "fire", "brick"],
				["human", "wheel", "travel"],
				["programming language", "programmer", "code"],
				["program", "program", "computer"],
				["building", "train", "station"],
				["deep", "station", "subway station"],
				["building", "subway", "subway station"],
				["subway", "station", "subway station"],
				["fun", "fun", "happiness"],
			];

			// associate items with their Font Awesome style, icon, and colour
			const iconAssociations = {
				"earth": ["solid", "earth", "tan"],
				"air": ["solid", "wind", "green-cyan"],
				"fire": ["solid", "fire", "red-orange"],
				"water": ["solid", "droplet", "cyan"],
				"land": ["solid", "mountain-sun", "pea-green"],
				"country": ["solid", "globe", "yellow-green"],
				"dust": ["solid", "braille", "tan"],
				"brick": ["solid", "trowel-bricks", "red"],
				"mud": ["solid", "splotch", "brown"],
				"atmosphere": ["solid", "cloud", "cyan"],
				"smoke": ["solid", "smog", "light-grey"],
				"bubble": ["solid", "soap", "cyan-blue"],
				"hot": ["solid", "temperature-full", "red"],
				"steam": ["solid", "mug-hot", "light-grey"],
				"puddle": ["solid", "splotch", "cyan-blue"],
				"pond": ["solid", "water", "green-cyan"],
				"river": ["solid", "water", "cyan"],
				"lake": ["solid", "water", "green-cyan"],
				"sea": ["solid", "water", "cyan-blue"],
				"ocean": ["solid", "water", "blue"],
				"continent": ["solid", "earth-europe", "green"],
				"planet": ["solid", "earth-africa", "blue"],
				"life": ["solid", "dna", "pea-green"],
				"house": ["solid", "house", "magenta-red"],
				"village": ["solid", "house-chimney", "magenta"],
				"town": ["solid", "house-flag", "violet-magenta"],
				"building": ["solid", "arrow-right-to-city", "blue-violet"],
				"city": ["solid", "city", "violet"],
				"tower": ["solid", "hotel", "blue"],
				"bird": ["solid", "feather-pointed", "cyan"], // thanks Gemini for telling me to make bird "light blue"
				"bug": ["solid", "bug", "yellow-orange"],
				"ant": ["solid", "bugs", "magenta-red"],
				"death": ["solid", "skull", "dark-grey"],
				"human": ["solid", "person", "yellow"],
				"fish": ["solid", "fish", "cyan"],
				"animal": ["solid", "paw", "yellow"],
				"raccoon": ["solid", "paw", "brown"],
				"seal": ["solid", "otter", "green-cyan"],
				"whale": ["solid", "fish-fins", "blue-violet"],
				"love": ["solid", "heart", "red"],
				"opposite": ["solid", "rotate", "violet"],
				"wall": ["solid", "trowel-bricks", "magenta-red"],
				"road": ["solid", "road", "dark-grey"],
				"cold": ["regular", "snowflake", "cyan"],
				"hate": ["solid", "thumbs-down", "red"],
				"door": ["solid", "door-open", "violet-magenta"],
				"synonym": ["solid", "arrow-trend-up", "yellow-green"],
				"antonym": ["solid", "retweet", "red-orange"],
				"thinking": ["solid", "brain", "magenta"],
				"idea": ["solid", "lightbulb", "yellow"],
				"dig": ["solid", "person-digging", "brown"],
				"breathe": ["solid", "lungs", "green-cyan"],
				"drink": ["solid", "bottle-droplet", "cyan-blue"],
				"cook": ["solid", "fire-burner", "yellow-orange"],
				"mine": ["solid", "person-digging", "light-grey"],
				"property": ["regular", "square", "pea-green"],
				"yard": ["solid", "seedling", "yellow-green"],
				"movement": ["solid", "arrow-right", "cyan-blue"],
				"dance": ["solid", "child-reaching", "blue-violet"],
				"travel": ["solid", "person-walking", "green-cyan"],
				"vehicle": ["solid", "gear", "cyan-blue"],
				"engine": ["solid", "gears", "dark-grey"],
				"car": ["solid", "car", "red"],
				"boat": ["solid", "anchor", "cyan"],
				"ship": ["solid", "ship", "cyan-blue"],
				"dirt": ["solid", "mound", "brown"],
				"sky": ["regular", "sun", "cyan"],
				"airplane": ["solid", "plane", "cyan-blue"],
				"engineer": ["solid", "user-gear", "cyan-blue"],
				"train": ["solid", "train", "magenta-red"],
				"subway": ["solid", "train-subway", "green-cyan"],
				"sailor": ["solid", "anchor", "violet-magenta"],
				"pilot": ["solid", "paper-plane", "green-cyan"],
				"navigation": ["solid", "compass", "yellow-orange"],
				"dancer": ["solid", "child-reaching", "violet"],
				"wheel": ["solid", "record-vinyl", "light-grey"],
				"sun": ["solid", "sun", "yellow"],
				"writing": ["solid", "pen-fancy", "green"],
				"art": ["solid", "hand", "magenta-red"],
				"painting": ["solid", "paintbrush", "blue-violet"],
				"book": ["solid", "book", "yellow-green"],
				"example": ["solid", "quote-left", "tan"],
				"invention": ["solid", "cube", "green-cyan"],
				"deep": ["solid", "down-long", "dark-grey"],
				"food": ["solid", "pizza-slice", "red"],
				"script": ["solid", "scroll", "tan"],
				"1984": ["solid", "book-bookmark", "red"],
				"time": ["solid", "clock", "green-cyan"],
				"2024": ["solid", "calendar", "magenta-red"],
				"the future": ["solid", "calendar-plus", "magenta"],
				"wind": ["solid", "wind", "cyan"],
				"generator": ["solid", "gears", "dark-grey"],
				"energy": ["solid", "bolt", "yellow"],
				"electricity": ["solid", "plug", "yellow"],
				"moon": ["solid", "moon", "yellow"],
				"the tide": ["solid", "up-down", "cyan-blue"],
				"Boeing 737": ["solid", "plane-departure", "blue"],
				"clay": ["solid", "mound", "light-grey"],
				"coffee": ["solid", "mug-hot", "brown"],
				"frog": ["solid", "frog", "green"],
				"allergies": ["solid", "head-side-cough", "red-orange"],
				"AI": ["solid", "robot", "violet-magenta"],
				"computer": ["solid", "computer", "cyan-blue"],
				"error": ["solid", "circle-exclamation", "red"],
				"mistake": ["solid", "triangle-exclamation", "yellow-orange"],
				"happiness": ["solid", "face-smile", "yellow"],
				"fun": ["solid", "face-smile-beam", "yellow-orange"],
				"emotion": ["regular", "face-smile", "cyan-blue"],
				"video game": ["solid", "gamepad", "violet"],
				"Lethal Company": ["solid", "user-astronaut", "red"],
				"code": ["solid", "code", "green"],
				"program": ["regular", "file-code", "pea-green"],
				"programmer": ["solid", "laptop-code", "cyan-blue"],
				"programming language": ["solid", "bars-staggered", "red-orange"],
				"Java": ["solid", "mug-hot", "blue"],
				"big": ["solid", "maximize", "magenta-red"],
				"small": ["solid", "minimize", "violet-magenta"],
				"reading": ["solid", "book-open-reader", "green"],
				"sadness": ["solid", "face-frown", "red-orange"],
				"desert": ["solid", "plant-wilt", "yellow-orange"],
				"sand": ["solid", "mound", "tan"],
				"rock": ["solid", "hill-rockslide", "dark-grey"],
				"bicycle": ["solid", "bicycle", "blue"],
				"station": ["solid", "building-columns", "magenta-red"],
				"subway station": ["solid", "building-columns", "green-cyan"],
			};

			// version #
			const version = "v1.1.0";

			// frequently referenced elements
			const discoveredItemsContainer = document.querySelector(".discovered-items");
			const discoveredPercentage = document.querySelector(".discovered-fraction");
			const versionElement = document.querySelector(".version");
			const clearButton = document.querySelector(".clear-button");
			const itemContainer = document.querySelector(".item-container");

			// "storage area" a.k.a. discoveredItemsContainer width
			const storageAreaWidth = discoveredItemsContainer.getBoundingClientRect().width;

			// # of items, # of recipes, what has been discovered so far
			const totalItems = Object.keys(iconAssociations).length;
			const totalRecipes = recipes.length;
			var discoveredItems = [];

			// version & info message
			console.log(`Finite Craft\n${version}\n(${totalItems} total items, ${totalRecipes} total recipes)`);
			versionElement.innerHTML = version;

			// add item to list of discoveries
			function discover(item) {
				if (item != null && item != undefined && !discoveredItems.includes(item)) {
					discoveredItems.push(item);
					discoveredPercentage.innerHTML = `${discoveredItems.length}/${totalItems}`;
					discoveredItemsContainer.appendChild(createItem(item));

					if (!initialItems.includes(item)) window.history.replaceState({}, "", "?x=" + toBase64(getProgress()));
				}
			}

			// initial items!!!
			const initialItems = ["earth", "air", "fire", "water"];
			for (let i = 0; i < initialItems.length; i++) discover(initialItems[i]);

			// place a new item on the screen: specified item, x, y
			function spawnItem(item, x, y) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.style = `left: ${x}px; top: ${y}px`;
				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);
				return newItemElement;
			}

			// for quick testing:
			function si(item) {
				spawnItemAtRandomPosition(item);
			}

			// place a new item on the screen: specified item, midpoints
			function spawnItemFromMidpoints(item, midpointX, midpointY) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);

				let justPlacedElement = document.querySelector(".item-container .item:last-child");
				let newX = justPlacedElement.offsetWidth / 2;
				let newY = justPlacedElement.offsetHeight / 2;
				justPlacedElement.style = `left: ${midpointX - newX}px; top: ${midpointY - newY}px`;
			}

			// random position item spawn
			function spawnItemAtRandomPosition(item) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour

				let x = Math.floor(Math.random() * (window.innerWidth - storageAreaWidth - 700) + 200);
				let y = Math.floor(Math.random() * (window.innerHeight - 500) + 200);

				newItemElement.style = `left: ${x}px; top: ${y}px`;

				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);
			}

			// create item element for the discovered items container, don't discover
			function createItem(item) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				return newItemElement;
			}

			// get the item element
			function getItemElement(element) {
				if (element instanceof HTMLDivElement) {
					return element;
				} else {
					return element.parentElement;
				}
			}

			// get item name from item element
			function extractItemName(element) {
				return element.children[element.children.length - 1].innerHTML;
			}

			// drag and drop variables
			var drag = false; // dragging currently?
			var dragElement; // what to drag?
			var dragOffsetX = 0; // difference between click x and left of dragElement
			var dragOffsetY = 0; // difference between click y and top of dragElement
			var fromX = 0; // initial page x
			var fromY = 0; // initial page y
			var clickedDiscovery = false; // was the click from the discoveries panel?

			// double click variables
			var lastClickTime = 0;
			var lastClickElement;

			// "mousedown" listener - for the main area
			itemContainer.addEventListener("mousedown", (e) => {
				let itemElement = getItemElement(e.target);
				let rect = itemElement.getBoundingClientRect();

				// left click: drag or duplicate
				if (e.button == 0) {
					if (Date.now() - lastClickTime < 500 && e.target == lastClickElement) {
						// double click: duplicate item
						spawnItem(extractItemName(itemElement), rect.left + 10, rect.top - 10);
					} else {
						// click and drag: move item
						drag = true; // start dragging
						dragElement = itemElement; // set dragElement to item element clicked
						dragOffsetX = e.pageX - rect.left;
						dragOffsetY = e.pageY - rect.top;
						fromX = e.pageX;
						fromY = e.pageY;
						document.querySelector(".item-container .item:last-child").after(dragElement); // move element to top!
					}

					lastClickTime = Date.now();
					lastClickElement = e.target;
				}

				// middle click: duplicate
				if (e.button == 1) spawnItem(extractItemName(itemElement), rect.left + 10, rect.top - 10);
			});

			// "mousedown" listener - for the "storage area"
			discoveredItemsContainer.addEventListener("mousedown", (e) => {
				if (e.target == discoveredItemsContainer) return;

				let itemElement = getItemElement(e.target);
				let itemName = extractItemName(itemElement);
				let rect = itemElement.getBoundingClientRect();

				if (e.button == 0) {
					drag = true; // start dragging
					dragElement = spawnItem(itemName, rect.left, rect.top); // set dragElement to item element clicked
					dragOffsetX = e.pageX - rect.left;
					dragOffsetY = e.pageY - rect.top;
					fromX = e.pageX;
					fromY = e.pageY;
					itemContainer.appendChild(dragElement); // move element to top!

					clickedDiscovery = true;
				}

				if (e.button == 1) spawnItemAtRandomPosition(itemName);
			});

			// "mousemove" listener
			document.addEventListener("mousemove", (e) => {
				if (drag) {
					let x = e.pageX;
					let y = e.pageY;
					dragElement.style = `left: ${x - dragOffsetX}px; top: ${y - dragOffsetY}px`; // set x and y coordinate of element
				}
			});

			// "mouseup" listener
			document.addEventListener("mouseup", (e) => {
				if (drag) {
					drag = false; // stop dragging
					if (e.pageX > window.innerWidth - storageAreaWidth) dragElement.remove(); // remove if within "storage area"
					else if (e.pageX != fromX && e.pageY != fromY) checkForOverlap(); // check for overlap --> craft! (unless element never moved)

					// if the element never moved, but was in the storage/discoveries area, place a copy somewhere on the screen
					if (e.pageX == fromX && e.pageY == fromY && clickedDiscovery) spawnItemAtRandomPosition(extractItemName(dragElement));

					// regardless of outcome, reset "clickedDiscovery"
					clickedDiscovery = false;
				}
			});

			// determine if two elements are overlapping
			function checkForOverlap() {
				let elementsFound = []; // store a list of elements overlapped by dragElement, to choose the last one

				itemContainer.querySelectorAll(".item").forEach((item) => {
					let item1 = extractItemName(dragElement);
					let item2 = extractItemName(item);

					if (item1 != item2 || dragElement.id != item.id) {
						let rect1 = dragElement.getBoundingClientRect();
						let rect2 = item.getBoundingClientRect();

						if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
							elementsFound.unshift(item);
						}
					}
				});

				for (let i = 0; i < elementsFound.length; i++) {
					if (findRecipe(elementsFound[i])) break;
				}
			}

			// see if dragElement and another go together
			function findRecipe(element) {
				let item1 = extractItemName(dragElement);
				let item2 = extractItemName(element);

				for (let i = 0; i < recipes.length; i++) {
					if ((recipes[i][0] == item1 && recipes[i][1] == item2) || (recipes[i][1] == item1 && recipes[i][0] == item2)) {
						craft(dragElement, element, recipes[i][2]);
						return true;
					}
				}
				return false;
			}

			// craft!
			function craft(ingredient1, ingredient2, result) {
				// get the midpoint between the two ingredients
				let midpointX = (ingredient1.offsetLeft + ingredient1.offsetWidth / 2 + ingredient2.offsetLeft + ingredient2.offsetWidth / 2) / 2;
				let midpointY = (ingredient1.offsetTop + ingredient1.offsetHeight / 2 + ingredient2.offsetTop + ingredient2.offsetHeight / 2) / 2;

				// place the result
				spawnItemFromMidpoints(result, midpointX, midpointY);

				// remove the ingredients
				ingredient1.remove();
				ingredient2.remove();
			}

			// right click to delete item
			itemContainer.addEventListener("contextmenu", (e) => {
				e.preventDefault();
				getItemElement(e.target).remove();
				return false;
			});

			// clear button
			clearButton.addEventListener("click", (e) => {
				itemContainer.innerHTML = "";
			});

			// debug: get everything
			function getAll() {
				for (let thing in iconAssociations) {
					discover(thing);
				}
			}

			// --- in progress: save-related functions ---

			// convert the discoveries array to a binary number
			function getProgress() {
				let binaryString = "";

				// each item gets "true" or "false"
				for (let thing in iconAssociations) {
					if (discoveredItems.includes(thing)) binaryString = "1" + binaryString;
					else binaryString = "0" + binaryString;
				}

				return binaryString;
			}

			// pad beginning of binary to make it a 6-bit-long chunk
			function padStartBinary(binaryString) {
				if (binaryString.length % 6 != 0) binaryString = binaryString.padStart(binaryString.length + (6 - (binaryString.length % 6)), "0");
				return binaryString;
			}

			// convert binary to base64
			function toBase64(binaryString) {
				let base64String = "";

				// make sure the string consists of 6-bit-long chunks
				binaryString = padStartBinary(binaryString);

				let binaryChunks = binaryString.match(/.{6}/g); // split the string into chunks

				// go through chunks, add base64 value to string
				for (let i = 0; i < binaryChunks.length; i++) {
					let number = parseInt(binaryChunks[i], 2);
					base64String = base64String + characters[number];
				}

				return base64String.replace(/^0+/, "");
			}

			// convert base64 to binary
			function fromBase64(base64String) {
				let binaryString = "";

				let base64characters = base64String.split("");
				for (let i = 0; i < base64characters.length; i++) {
					binaryString = binaryString + padStartBinary(characters.indexOf(base64characters[i]).toString(2));
				}

				return binaryString;
			}

			// convert a binary number to discoveries
			function loadProgress(binaryString) {
				let binaryArray = binaryString.split(""); // get individual bits
				binaryArray.reverse(); // deal with values in ascending order

				for (let i = 0; i < binaryArray.length; i++) {
					// discovers the items that are "true" - this will break across versions if I add more 'int' keys
					if (binaryArray[i] == 1) discover(Object.keys(iconAssociations)[i]);
				}
			}

			// load discoveries from URL
			const query = window.location.search;
			const item = new URLSearchParams(query);
			const save = item.get("x");

			if (save != null && save != "") loadProgress(fromBase64(save));
		</script>
	</body>
</html>
