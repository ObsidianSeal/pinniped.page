<!DOCTYPE html>

<html lang="en">
	<head>
		<title>Finite Craft</title>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../images/icon.png" />

		<meta property="og:url" content="https://pinniped.page/projects/craft" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Finite Craft" />
		<meta property="og:description" content="Infinite Craft, but just the crafting part." />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<meta name="description" content="Infinite Craft, but just the crafting part." />
		<meta name="keywords" content="finite, craft, puzzle, fun, items, merge, game, seal, pinniped" />

		<script src="https://kit.fontawesome.com/c6ef7d4818.js" crossorigin="anonymous"></script>

		<style>
			/* FONT(S) FROM GOOGLE FONTS */
			@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@500;700");
			@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300");

			/* PHOTOSHOP "GRAYSCALE", "LIGHT", and 2 from "PALE" COLOURS, plus ~38% opacity */
			:root {
				--white: #ffffff;
				--grey10: #ebebeb;
				--grey15: #e1e1e1;
				--grey20: #d7d7d7;
				--grey25: #cccccc;
				--grey30: #c2c2c2;
				--grey35: #b7b7b7;
				--grey40: #acacac;
				--grey45: #a1a1a1;
				--grey50: #959595;
				--grey55: #898989;
				--grey60: #7d7d7d;
				--grey65: #707070;
				--grey70: #636363;
				--grey75: #555555;
				--grey80: #464646;
				--grey85: #363636;
				--grey90: #252525;
				--grey95: #111111;
				--black: #000000;

				--red: #f26c4f;
				--red-orange: #f68e56;
				--yellow-orange: #fbaf5d;
				--yellow: #fff568;
				--pea-green: #acd373;
				--yellow-green: #7cc576;
				--green: #3cb878;
				--green-cyan: #1cbbb4;
				--cyan: #00bff3;
				--cyan-blue: #448ccb;
				--blue: #5674b9;
				--blue-violet: #605ca8;
				--violet: #8560a8;
				--violet-magenta: #a864a8;
				--magenta: #f06eaa;
				--magenta-red: #f26d7d;

				--tan: #c69c6d;
				--brown: #8c6239;

				--red-less: #f26c4f80;
				--red-orange-less: #f68e5680;
				--yellow-orange-less: #fbaf5d80;
				--yellow-less: #fff56880;
				--pea-green-less: #acd37380;
				--yellow-green-less: #7cc57680;
				--green-less: #3cb87880;
				--green-cyan-less: #1cbbb480;
				--cyan-less: #00bff380;
				--cyan-blue-less: #448ccb80;
				--blue-less: #5674b980;
				--blue-violet-less: #605ca880;
				--violet-less: #8560a880;
				--violet-magenta-less: #a864a880;
				--magenta-less: #f06eaa80;
				--magenta-red-less: #f26d7d80;

				--tan-less: #c69c6d80;
				--brown-less: #8c623980;

				--light-grey-less: #c2c2c280;
				--dark-grey-less: #7d7d7d80;
			}

			/* REGULAR CSS */

			* {
				margin: 0;
				border: 0;
				padding: 0;
				font-family: "Space Grotesk";
				font-weight: 300;
				font-size: 20px;

				/* all user-select properties, from https://css-tricks.com/almanac/properties/u/user-select/ */
				-webkit-user-select: none; /* Chrome all / Safari all */
				-moz-user-select: none; /* Firefox all */
				-ms-user-select: none; /* IE 10+ */
				user-select: none; /* Likely future */

				/* TEST: https://stackoverflow.com/questions/6211959/html5-div-flashes-on-tap */
				-webkit-tap-highlight-color: transparent;
				/* TEST SUCCESSFUL!!! */

				/* TEST: https://stackoverflow.com/questions/10614481/disable-double-tap-zoom-option-in-browser-on-touch-devices */
				touch-action: manipulation;
				/* TEST SUCCESSFUL!!! */
			}

			::-webkit-scrollbar {
				width: 20px;
			}

			::-webkit-scrollbar-thumb {
				background-color: var(--grey90);
				border: 5px solid var(--grey85);
				border-radius: 50px;
			}

			::-webkit-scrollbar-thumb:hover {
				background-color: var(--grey95);
			}

			body {
				background-color: var(--grey90);

				overflow: hidden;
			}

			h1,
			.discovered-fraction,
			.version,
			.clear-button,
			.help-button {
				position: absolute;
				font-family: "Roboto";
				color: var(--grey85);
			}

			h1 {
				top: 50px;
				left: 50px;
				font-weight: 700;
			}

			h1,
			.clear-button i,
			.help-button i {
				font-size: 50px;
			}

			h1 a {
				font-family: inherit;
				font-weight: inherit;
				font-size: inherit;
				color: inherit;

				text-decoration: none;
			}

			h1 a:hover,
			.clear-button:hover,
			.help-button:hover {
				color: var(--grey80);
				cursor: pointer;
			}

			.discoveries-sidebar {
				position: absolute;
				right: 0;

				width: calc(500px);
				height: calc(100%);

				background-color: var(--grey85);
			}

			.discovered-items {
				display: flex;
				align-content: flex-start;
				gap: 10px;
				flex-wrap: wrap;

				width: calc(500px - 40px);
				height: calc(100% - 110px);

				padding: 20px 20px 0;

				overflow-y: scroll;
			}

			.discovered-fraction {
				bottom: 50px;
				left: 50px;
				font-weight: 700;
				font-size: 80px;
			}

			.version {
				font-weight: 500;
				font-size: 30px;

				top: 120px;
				left: 50px;
			}

			.clear-button {
				right: 550px;
				bottom: 50px;
			}

			.help-button {
				top: 50px;
				right: 550px;
			}

			.item-container .item {
				position: absolute;
			}

			.item {
				height: fit-content;
				padding: 3px 7px 7px;
				border-width: 2px;
				border-style: solid;
				border-radius: 7px;

				background-color: var(--black);
				color: var(--white);

				white-space: nowrap;
			}

			.item i {
				margin-right: 10px;
				translate: 0 2px;
			}

			.item:hover {
				cursor: pointer;
			}

			.sorting-options {
				display: flex;
				gap: 10px;

				padding: 20px;
			}

			.sorting-options div,
			input {
				min-width: 50px;
				height: 50px;

				display: flex;
				align-items: center;
				justify-content: center;

				border-radius: 7px;

				background-color: var(--grey90);
				color: var(--grey85);
			}

			.sorting-options input {
				width: 260px;
				height: 40px;

				padding: 5px 60px 5px 10px;
				outline: none;

				color: var(--white);

				font-size: 24px;
			}

			input::selection {
				background-color: var(--grey85);
			}

			input::placeholder {
				color: var(--grey80);
			}

			.sorting-options div:not(.sorting-options div:first-child, .active):hover {
				color: var(--grey80);
				cursor: pointer;
			}

			.sorting-options div:nth-child(3).active {
				color: var(--red);
			}

			.sorting-options div:nth-child(4).active {
				color: var(--yellow);
			}

			.sorting-options div:nth-child(5).active {
				color: var(--cyan-blue);
			}

			.sorting-options div i {
				font-size: 30px;
			}

			#clear-search {
				width: 50px;
				height: 50px;
				position: absolute;

				right: 200px;

				display: flex;
				align-items: center;
				justify-self: center;
			}

			/* COLOUR CLASSES - border */

			.red {
				border-color: var(--red);
			}

			.red-orange {
				border-color: var(--red-orange);
			}

			.yellow-orange {
				border-color: var(--yellow-orange);
			}

			.yellow {
				border-color: var(--yellow);
			}

			.pea-green {
				border-color: var(--pea-green);
			}

			.yellow-green {
				border-color: var(--yellow-green);
			}

			.green {
				border-color: var(--green);
			}

			.green-cyan {
				border-color: var(--green-cyan);
			}

			.cyan {
				border-color: var(--cyan);
			}

			.cyan-blue {
				border-color: var(--cyan-blue);
			}

			.blue {
				border-color: var(--blue);
			}

			.blue-violet {
				border-color: var(--blue-violet);
			}

			.violet {
				border-color: var(--violet);
			}

			.violet-magenta {
				border-color: var(--violet-magenta);
			}

			.magenta {
				border-color: var(--magenta);
			}

			.magenta-red {
				border-color: var(--magenta-red);
			}

			.tan {
				border-color: var(--tan);
			}

			.brown {
				border-color: var(--brown);
			}

			.light-grey {
				border-color: var(--grey30);
			}

			.dark-grey {
				border-color: var(--grey60);
			}

			/* COLOUR CLASSES - icon */

			.red i {
				color: var(--red);
			}

			.red-orange i {
				color: var(--red-orange);
			}

			.yellow-orange i {
				color: var(--yellow-orange);
			}

			.yellow i {
				color: var(--yellow);
			}

			.pea-green i {
				color: var(--pea-green);
			}

			.yellow-green i {
				color: var(--yellow-green);
			}

			.green i {
				color: var(--green);
			}

			.green-cyan i {
				color: var(--green-cyan);
			}

			.cyan i {
				color: var(--cyan);
			}

			.cyan-blue i {
				color: var(--cyan-blue);
			}

			.blue i {
				color: var(--blue);
			}

			.blue-violet i {
				color: var(--blue-violet);
			}

			.violet i {
				color: var(--violet);
			}

			.violet-magenta i {
				color: var(--violet-magenta);
			}

			.magenta i {
				color: var(--magenta);
			}

			.magenta-red i {
				color: var(--magenta-red);
			}

			.tan i {
				color: var(--tan);
			}

			.brown i {
				color: var(--brown);
			}

			.light-grey i {
				color: var(--grey30);
			}

			.dark-grey i {
				color: var(--grey60);
			}

			/* COLOUR CLASSES - hover (background) */

			.red:hover {
				background-image: linear-gradient(var(--black), var(--red-less));
			}

			.red-orange:hover {
				background-image: linear-gradient(var(--black), var(--red-orange-less));
			}

			.yellow-orange:hover {
				background-image: linear-gradient(var(--black), var(--yellow-orange-less));
			}

			.yellow:hover {
				background-image: linear-gradient(var(--black), var(--yellow-less));
			}

			.pea-green:hover {
				background-image: linear-gradient(var(--black), var(--pea-green-less));
			}

			.yellow-green:hover {
				background-image: linear-gradient(var(--black), var(--yellow-green-less));
			}

			.green:hover {
				background-image: linear-gradient(var(--black), var(--green-less));
			}

			.green-cyan:hover {
				background-image: linear-gradient(var(--black), var(--green-cyan-less));
			}

			.cyan:hover {
				background-image: linear-gradient(var(--black), var(--cyan-less));
			}

			.cyan-blue:hover {
				background-image: linear-gradient(var(--black), var(--cyan-blue-less));
			}

			.blue:hover {
				background-image: linear-gradient(var(--black), var(--blue-less));
			}

			.blue-violet:hover {
				background-image: linear-gradient(var(--black), var(--blue-violet-less));
			}

			.violet:hover {
				background-image: linear-gradient(var(--black), var(--violet-less));
			}

			.violet-magenta:hover {
				background-image: linear-gradient(var(--black), var(--violet-magenta-less));
			}

			.magenta:hover {
				background-image: linear-gradient(var(--black), var(--magenta-less));
			}

			.magenta-red:hover {
				background-image: linear-gradient(var(--black), var(--magenta-red-less));
			}

			.tan:hover {
				background-image: linear-gradient(var(--black), var(--tan-less));
			}

			.brown:hover {
				background-image: linear-gradient(var(--black), var(--brown-less));
			}

			.light-grey:hover {
				background-image: linear-gradient(var(--black), var(--light-grey-less));
			}

			.dark-grey:hover {
				background-image: linear-gradient(var(--black), var(--dark-grey-less));
			}
		</style>
	</head>

	<body>
		<div class="discoveries-sidebar">
			<div class="discovered-items"></div>
			<div class="sorting-options">
				<input id="search" autocomplete="off" placeholder="search? (RegEx)" />
				<div id="clear-search" title="clear search"><i class="fa-solid fa-xmark"></i></div>
				<div id="sort-time" title="sort by time discovered"><i class="fa-solid fa-clock"></i></div>
				<div id="sort-name" title="sort by name"><i class="fa-solid fa-arrow-down-a-z"></i></div>
				<div id="sort-colour" title="sort by colour"><i class="fa-solid fa-palette"></i></div>
			</div>
		</div>
		<h1><a href="../index.html">pinniped.page</a>/craft</h1>
		<span class="discovered-fraction"></span>
		<span class="version"></span>
		<span class="help-button" title="info & help page"><i class="fa-solid fa-question"></i></span>
		<span class="clear-button" title="clear workspace"><i class="fa-solid fa-trash-can"></i></span>
		<div class="item-container"></div>

		<script>
			// for decimal/base64 conversion
			const characters = [
				"0",
				"1",
				"2",
				"3",
				"4",
				"5",
				"6",
				"7",
				"8",
				"9",
				"a",
				"b",
				"c",
				"d",
				"e",
				"f",
				"g",
				"h",
				"i",
				"j",
				"k",
				"l",
				"m",
				"n",
				"o",
				"p",
				"q",
				"r",
				"s",
				"t",
				"u",
				"v",
				"w",
				"x",
				"y",
				"z",
				"A",
				"B",
				"C",
				"D",
				"E",
				"F",
				"G",
				"H",
				"I",
				"J",
				"K",
				"L",
				"M",
				"N",
				"O",
				"P",
				"Q",
				"R",
				"S",
				"T",
				"U",
				"V",
				"W",
				"X",
				"Y",
				"Z",
				"-",
				"_",
			];

			// combinations!
			const recipes = [
				["earth", "earth", "land"],
				["land", "land", "country"],
				["earth", "air", "dust"],
				["earth", "fire", "brick"],
				["earth", "water", "mud"],
				["air", "air", "atmosphere"],
				["air", "fire", "smoke"],
				["air", "water", "bubble"],
				["fire", "fire", "hot"],
				["fire", "water", "steam"],
				["water", "water", "puddle"],
				["puddle", "puddle", "pond"],
				["house", "life", "human"],
				["human", "smoke", "death"],
				["human", "human", "love"],
				["pond", "pond", "river"],
				["river", "river", "lake"],
				["lake", "lake", "sea"],
				["sea", "sea", "ocean"],
				["country", "country", "continent"],
				["continent", "continent", "planet"],
				["planet", "atmosphere", "life"],
				["mud", "brick", "house"],
				["house", "house", "village"],
				["village", "village", "town"],
				["town", "town", "city"],
				["town", "house", "building"],
				["city", "house", "tower"],
				["air", "life", "bird"],
				["earth", "life", "bug"],
				["fire", "life", "death"],
				["water", "life", "fish"],
				["land", "life", "animal"],
				["bug", "earth", "ant"],
				["animal", "city", "raccoon"],
				["sea", "animal", "seal"],
				["ocean", "animal", "whale"],
				["hot", "air", "wind"],
				["life", "death", "opposite"],
				["brick", "brick", "wall"],
				["brick", "earth", "road"],
				["opposite", "death", "life"],
				["opposite", "life", "death"],
				["opposite", "hot", "cold"],
				["opposite", "cold", "hot"],
				["opposite", "love", "hate"],
				["opposite", "hate", "love"],
				["opposite", "wall", "door"],
				["opposite", "door", "wall"],
				["antonym", "death", "life"],
				["antonym", "life", "death"],
				["antonym", "hot", "cold"],
				["antonym", "cold", "hot"],
				["antonym", "love", "hate"],
				["antonym", "hate", "love"],
				["antonym", "wall", "door"],
				["antonym", "door", "wall"],
				["opposite", "opposite", "synonym"],
				["opposite", "synonym", "antonym"],
				["opposite", "antonym", "synonym"],
				["synonym", "antonym", "opposite"],
				["antonym", "antonym", "synonym"],
				["human", "synonym", "thinking"],
				["human", "antonym", "thinking"],
				["thinking", "thinking", "idea"],
				["earth", "idea", "dig"],
				["air", "idea", "breathe"],
				["fire", "idea", "hot"],
				["water", "idea", "drink"],
				["breathe", "idea", "life"],
				["hot", "idea", "cook"],
				["dig", "human", "mine"],
				["mine", "idea", "property"],
				["mine", "thinking", "deep"],
				["house", "property", "yard"],
				["road", "idea", "movement"],
				["human", "movement", "dance"],
				["human", "dance", "dancer"],
				["movement", "idea", "travel"],
				["travel", "idea", "vehicle"],
				["vehicle", "idea", "engine"],
				["vehicle", "thinking", "wheel"],
				["road", "vehicle", "car"],
				["water", "vehicle", "boat"],
				["boat", "boat", "ship"],
				["earth", "thinking", "dirt"],
				["air", "thinking", "sky"],
				["fire", "thinking", "hot"],
				["water", "thinking", "cold"],
				["sky", "vehicle", "airplane"],
				["human", "engine", "engineer"],
				["engine", "vehicle", "train"],
				["city", "train", "subway"],
				["boat", "human", "sailor"],
				["airplane", "human", "pilot"],
				["pilot", "thinking", "navigation"],
				["sky", "fire", "sun"],
				["sun", "opposite", "moon"],
				["sun", "antonym", "moon"],
				["moon", "opposite", "sun"],
				["moon", "antonym", "sun"],
				["human", "idea", "writing"],
				["human", "thinking", "art"],
				["human", "writing", "book"],
				["human", "art", "painting"],
				["thinking", "idea", "example"],
				["idea", "idea", "invention"],
				["earth", "synonym", "dirt"],
				["air", "dirt", "dust"],
				["fish", "fire", "food"],
				["writing", "example", "script"],
				["book", "example", "1984"],
				["1984", "idea", "time"],
				["1984", "thinking", "time"],
				["1984", "time", "2024"],
				["2024", "time", "the future"],
				["human", "land", "property"],
				["engine", "engineer", "generator"],
				["generator", "water", "electricity"],
				["generator", "wind", "electricity"],
				["generator", "the tide", "electricity"],
				["sea", "moon", "the tide"],
				["ocean", "moon", "the tide"],
				["electricity", "idea", "energy"],
				["electricity", "thinking", "energy"],
				["the tide", "thinking", "movement"],
				["example", "movement", "the tide"],
				["movement", "invention", "vehicle"],
				["boat", "movement", "travel"],
				["human", "life", "thinking"],
				["synonym", "synonym", "example"],
				["airplane", "example", "Boeing 737"],
				["hot", "water", "steam"],
				["steam", "generator", "electricity"],
				["example", "earth", "clay"],
				["hot", "drink", "coffee"],
				["pond", "animal", "frog"],
				["wall", "door", "house"],
				["2024", "thinking", "AI"],
				["dust", "human", "allergies"],
				["opposite", "AI", "human"],
				["AI", "bug", "error"],
				["code", "bug", "error"],
				["program", "bug", "error"],
				["programmer", "bug", "error"],
				["programming language", "bug", "error"],
				["engine", "AI", "computer"],
				["script", "generator", "AI"],
				["smoke", "generator", "fire"],
				["human", "error", "mistake"],
				["AI", "land", "computer"],
				["AI", "house", "computer"],
				["computer", "bug", "error"],
				["human", "invention", "time"],
				["thinking", "love", "happiness"],
				["idea", "love", "happiness"],
				["happiness", "thinking", "fun"],
				["happiness", "idea", "emotion"],
				["computer", "fun", "video game"],
				["video game", "example", "Lethal Company"],
				["computer", "script", "code"],
				["code", "code", "program"],
				["program", "human", "programmer"],
				["code", "human", "programmer"],
				["code", "writing", "programming language"],
				["programming language", "example", "Java"],
				["Java", "synonym", "coffee"],
				["ant", "thinking", "small"],
				["planet", "thinking", "big"],
				["continent", "thinking", "big"],
				["ocean", "thinking", "big"],
				["book", "human", "reading"],
				["sun", "moon", "eclipse"],
				["hot", "cold", "opposite"],
				["big", "small", "opposite"],
				["love", "hate", "opposite"],
				["writing", "reading", "opposite"],
				["happiness", "opposite", "sadness"],
				["happiness", "antonym", "sadness"],
				["mistake", "emotion", "sadness"],
				["opposite", "big", "small"],
				["antonym", "big", "small"],
				["opposite", "small", "big"],
				["antonym", "small", "big"],
				["opposite", "writing", "reading"],
				["antonym", "writing", "reading"],
				["opposite", "reading", "writing"],
				["antonym", "reading", "writing"],
				["opposite", "happiness", "sadness"],
				["antonym", "happiness", "sadness"],
				["opposite", "sadness", "happiness"],
				["antonym", "sadness", "happiness"],
				["happiness", "sadness", "opposite"],
				["human", "love", "happiness"],
				["hot", "land", "desert"],
				["mine", "mine", "rock"],
				["water", "rock", "sand"],
				["desert", "dirt", "sand"],
				["desert", "earth", "sand"],
				["wheel", "wheel", "bicycle"],
				["cold", "drink", "water"],
				["clay", "fire", "brick"],
				["human", "wheel", "travel"],
				["programming language", "programmer", "code"],
				["program", "program", "computer"],
				["building", "train", "station"],
				["deep", "station", "subway station"],
				["building", "subway", "subway station"],
				["subway", "station", "subway station"],
				["fun", "fun", "happiness"],
				["programmer", "writing", "code"],
				["programmer", "computer", "code"],
				["human", "time", "death"],
				["human", "death", "sadness"],
				["human", "brick", "building"],
				["glass", "water", "drink"],
				["human", "boat", "sailor"],
				["human", "ship", "sailor"],
				["human", "sea", "mermaid"],
				["human", "ocean", "mermaid"],
				["water", "wall", "dam"],
				["sand", "fire", "glass"],
				["dam", "animal", "beaver"],
				["road", "big", "highway"],
				["road", "road", "highway"],
				["cold", "water", "ice"],
				["cold", "continent", "Antarctica"],
				["glass", "house", "window"],
				["glass", "building", "window"],
				["small", "computer", "phone"],
				["car", "big", "truck"],
				["truck", "big", "bus"],
				["ocean", "life", "fish"],
				["sea", "life", "fish"],
				["river", "animal", "otter"],
				["animal", "example", "seal"],
				["computer", "error", "crash"],
				["program", "error", "crash"],
				["code", "error", "crash"],
				["airplane", "fire", "crash"],
				["crash", "car", "death"],
				["airplane", "crash", "death"],
				["Airbus", "example", "A380"],
				["airplane", "bus", "Airbus"],
				["air", "bus", "Airbus"],
				["continent", "example", "Antarctica"],
				["ice", "hot", "water"],
				["ice", "fire", "water"],
				["bird", "thinking", "flight"],
				["airplane", "thinking", "flight"],
				["airplane", "travel", "flight"],
				["desert", "example", "Sahara"],
				["country", "example", "Germany"],
				["mud", "water", "swamp"],
				["mud", "pond", "swamp"],
				["swamp", "animal", "bug"],
				["video game", "flight", "Microsoft Flight Simulator"],
				["video game", "airplane", "Microsoft Flight Simulator"],
				["video game", "Airbus", "Microsoft Flight Simulator"],
				["video game", "Boeing 737", "Microsoft Flight Simulator"],
				["video game", "A380", "Microsoft Flight Simulator"],
				["Microsoft Flight Simulator", "vehicle", "airplane"],
				["Microsoft Flight Simulator", "airplane", "Airbus"],
				["house", "road", "town"],
				["house", "fire", "smoke"],
				["dust", "fire", "ash"],
				["planet", "planet", "solar system"],
				["wheel", "idea", "vehicle"],
				["wheel", "thinking", "round"],
				["water", "atmosphere", "cloud"],
				["hot", "atmosphere", "global warming"],
				["flight", "engine", "airplane"],
				["flight", "travel", "airplane"],
				["flight", "vehicle", "airplane"],
				["road", "airplane", "runway"],
				["runway", "city", "airport"],
				["airport", "example", "Haneda Airport (RJTT)"],
				["bird", "window", "death"],
				["book", "book", "library"],
				["library", "human", "librarian"],
				["the future", "opposite", "the past"],
				["the future", "antonym", "the past"],
				["the past", "opposite", "the future"],
				["the past", "antonym", "the future"],
				["the past", "the future", "2024"],
				["2024", "the past", "1984"],
				["travel", "invention", "vehicle"],
				["bus", "bus", "articulated bus"],
				["bus", "big", "articulated bus"],
				["big", "thinking", "idea"],
				["big", "idea", "invention"],
				["big", "human", "giant"],
				["tower", "example", "Eiffel Tower"],
				["Eiffel Tower", "city", "Paris"],
				["Eiffel Tower", "country", "France"],
				["Paris", "country", "France"],
				["France", "city", "Paris"],
				["city", "example", "Tokyo"],
				["Tokyo", "airport", "Haneda Airport (RJTT)"],
				["Paris", "airport", "Charles de Gaulle Airport (LFPG)"],
				["writing", "script", "language"],
				["human", "language", "writing"],
				["language", "example", "German"],
				["language", "France", "French"],
				["language", "Paris", "French"],
				["language", "Germany", "German"],
				["human", "swamp", "witch"],
				["witch", "thinking", "magic"],
				["human", "magic", "wizard"],
				["invention", "example", "wheel"],
				["invention", "ocean", "ship"],
				["invention", "sea", "boat"],
				["big", "boat", "ship"],
				["death", "thinking", "fear"],
				["fear", "example", "death"],
				["human", "fear", "death"],
				["fish", "cook", "food"],
				["sadness", "sadness", "depression"],
				["big", "sadness", "depression"],
				["big", "depression", "The Great Depression"],
				["animal", "land", "mammal"],
				["mammal", "example", "platypus"],
				["beaver", "building", "dam"],
				["water", "sun", "evaporation"],
				["round", "food", "pizza"],
				["example", "food", "pizza"],
				["example", "art", "painting"],
				["big", "planet", "Jupiter"],
				["example", "planet", "Mars"],
				["Mars", "life", "alien"],
				["computer", "art", "graphic design"],
				["wizard", "writing", "spell"],
				["land", "highway", "infrastructure"],
				["1984", "human", "George Orwell"],
				["example", "fun", "video game"],
				["smoke", "atmosphere", "pollution"],
				["car", "highway", "traffic"],
				["car", "city", "traffic"],
				["wizard", "book", "Harry Potter"],
				["witch", "vehicle", "broom"],
				["small", "human", "child"],
				["Tokyo", "country", "Japan"],
				["Japan", "continent", "Asia"],
				["Tokyo", "continent", "Asia"],
				["Germany", "continent", "Europe"],
				["France", "continent", "Europe"],
				["Paris", "continent", "Europe"],
				["solar system", "solar system", "galaxy"],
				["galaxy", "galaxy", "universe"],
				["universe", "universe", "multiverse"],
				["emotion", "example", "happiness"],
				["mine", "video game", "Minecraft"],
				["wizard", "example", "Harry Potter"],
				["food", "smoke", "barbecue"],
				["bird", "example", "hawk"],
				["idea", "universe", "space"],
				["idea", "space", "empty"],
				["empty", "opposite", "full"],
				["empty", "antonym", "full"],
				["full", "antonym", "empty"],
				["full", "opposite", "empty"],
				["empty", "full", "opposite"],
				["universe", "thinking", "space"],
				["space", "thinking", "container"],
				["water", "container", "bucket"],
				["big", "bucket", "bath"],
				["bath", "bubble", "bubble bath"],
				["Harry Potter", "country", "England"],
				["England", "continent", "Europe"],
				["pollution", "pollution", "global warming"],
				["airplane", "sky", "flight"],
				["fun", "travel", "vacation"],
				["airplane", "building", "airport"],
				["airplane", "infrastructure", "runway"],
				["Harry Potter", "flight", "broom"],
				["witch", "flight", "broom"],
				["Lethal Company", "friends", "fun"],
				["Tokyo", "tower", "Tokyo Tower"],
				["George Orwell", "country", "England"],
				["bus", "idea", "public transportation"],
				["program", "graphic design", "Adobe Photoshop"],
				["subway", "idea", "public transportation"],
				["subway station", "idea", "public transportation"],
				["public transportation", "example", "bus"],
				["traffic", "emotion", "hate"],
				["cloud", "cloud", "sky"],
				["Boeing 737", "big", "Boeing 747"],
				["water", "planet", "GJ 1214 b"],
				["bird", "house", "birdhouse"],
				["sun", "thinking", "light"],
				["sun", "time", "supernova"],
				["light", "opposite", "darkness"],
				["light", "antonym", "darkness"],
				["light", "darkness", "opposite"],
				["darkness", "opposite", "light"],
				["darkness", "antonym", "light"],
				["Minecraft", "mine", "diamond"],
				["Minecraft", "rock", "stone"],
				["human", "animal", "pet"],
				["human", "pet", "dog"],
				["Minecraft", "animal", "cow"],
				["pet", "example", "cat"],
				["Minecraft", "pet", "dog"],
				["Minecraft", "empty", "air"],
				["Minecraft", "earth", "dirt"],
				["sun", "human", "hot"],
				["Charles de Gaulle Airport (LFPG)", "city", "Paris"],
				["Charles de Gaulle Airport (LFPG)", "country", "France"],
				["Charles de Gaulle Airport (LFPG)", "continent", "Europe"],
				["deep", "water", "ocean"],
				["death", "book", "They Both Die at the End"],
				["human", "property", "house"],
				["big", "house", "mansion"],
				["pond", "bird", "duck"],
				["big", "duck", "goose"],
				["goose", "video game", "Untitled Goose Game"],
				["book", "building", "library"],
				["video game", "engine", "game engine"],
				["Lethal Company", "game engine", "Unity"],
				["example", "game engine", "Unity"],
				["animal", "language", "sound"],
				["human", "sound", "speech"],
				["sound", "example", "music"],
			];

			// associate items with their Font Awesome style, icon, and colour
			const iconAssociations = {
				"air": ["solid", "wind", "green-cyan"],
				"earth": ["solid", "earth", "tan"],
				"fire": ["solid", "fire", "red-orange"],
				"water": ["solid", "droplet", "cyan"],
				"land": ["solid", "mountain-sun", "pea-green"],
				"country": ["solid", "globe", "yellow-green"],
				"dust": ["solid", "braille", "tan"],
				"brick": ["solid", "trowel-bricks", "red"],
				"mud": ["solid", "splotch", "brown"],
				"atmosphere": ["solid", "cloud", "cyan"],
				"smoke": ["solid", "smog", "light-grey"],
				"bubble": ["solid", "soap", "cyan-blue"],
				"hot": ["solid", "temperature-full", "red"],
				"steam": ["solid", "mug-hot", "light-grey"],
				"puddle": ["solid", "splotch", "cyan-blue"],
				"pond": ["solid", "water", "green-cyan"],
				"river": ["solid", "water", "cyan"],
				"lake": ["solid", "water", "green-cyan"],
				"sea": ["solid", "water", "cyan-blue"],
				"ocean": ["solid", "water", "blue"],
				"continent": ["solid", "earth-europe", "green"],
				"planet": ["solid", "earth-africa", "blue"],
				"life": ["solid", "dna", "pea-green"],
				"house": ["solid", "house", "magenta-red"],
				"village": ["solid", "house-chimney", "magenta"],
				"town": ["solid", "house-flag", "violet-magenta"],
				"building": ["solid", "arrow-right-to-city", "blue-violet"],
				"city": ["solid", "city", "violet"],
				"tower": ["solid", "hotel", "blue"],
				"bird": ["solid", "feather-pointed", "cyan"], // thanks Gemini for telling me to make bird "light blue"
				"bug": ["solid", "bug", "yellow-orange"],
				"ant": ["solid", "bugs", "magenta-red"],
				"death": ["solid", "skull", "dark-grey"],
				"human": ["solid", "person", "yellow"],
				"fish": ["solid", "fish", "cyan"],
				"animal": ["solid", "paw", "yellow"],
				"raccoon": ["solid", "paw", "brown"],
				"seal": ["solid", "otter", "green-cyan"],
				"whale": ["solid", "fish-fins", "blue-violet"],
				"love": ["solid", "heart", "red"],
				"opposite": ["solid", "rotate", "violet"],
				"wall": ["solid", "trowel-bricks", "magenta-red"],
				"road": ["solid", "road", "dark-grey"],
				"cold": ["regular", "snowflake", "cyan"],
				"hate": ["solid", "thumbs-down", "red"],
				"door": ["solid", "door-open", "violet-magenta"],
				"synonym": ["solid", "arrow-trend-up", "yellow-green"],
				"antonym": ["solid", "retweet", "red-orange"],
				"thinking": ["solid", "brain", "magenta"],
				"idea": ["solid", "lightbulb", "yellow"],
				"dig": ["solid", "person-digging", "brown"],
				"breathe": ["solid", "lungs", "green-cyan"],
				"drink": ["solid", "bottle-droplet", "cyan-blue"],
				"cook": ["solid", "fire-burner", "yellow-orange"],
				"mine": ["solid", "person-digging", "light-grey"],
				"property": ["regular", "square", "pea-green"],
				"yard": ["solid", "seedling", "yellow-green"],
				"movement": ["solid", "arrow-right", "cyan-blue"],
				"dance": ["solid", "child-reaching", "blue-violet"],
				"travel": ["solid", "person-walking", "green-cyan"],
				"vehicle": ["solid", "gear", "cyan-blue"],
				"engine": ["solid", "gears", "dark-grey"],
				"car": ["solid", "car", "red"],
				"boat": ["solid", "anchor", "cyan"],
				"ship": ["solid", "ship", "cyan-blue"],
				"dirt": ["solid", "mound", "brown"],
				"sky": ["regular", "sun", "cyan"],
				"airplane": ["solid", "plane", "cyan-blue"],
				"engineer": ["solid", "user-gear", "cyan-blue"],
				"train": ["solid", "train", "magenta-red"],
				"subway": ["solid", "train-subway", "green-cyan"],
				"sailor": ["solid", "anchor", "violet-magenta"],
				"pilot": ["solid", "paper-plane", "green-cyan"],
				"navigation": ["solid", "compass", "yellow-orange"],
				"dancer": ["solid", "child-reaching", "violet"],
				"wheel": ["solid", "record-vinyl", "light-grey"],
				"sun": ["solid", "sun", "yellow"],
				"writing": ["solid", "pen-fancy", "green"],
				"art": ["solid", "hand", "magenta-red"],
				"painting": ["solid", "paintbrush", "blue-violet"],
				"book": ["solid", "book", "yellow-green"],
				"example": ["solid", "quote-left", "tan"],
				"invention": ["solid", "cube", "green-cyan"],
				"deep": ["solid", "down-long", "dark-grey"],
				"food": ["solid", "pizza-slice", "red"],
				"script": ["solid", "scroll", "tan"],
				"1984": ["solid", "book-bookmark", "red"],
				"time": ["solid", "clock", "green-cyan"],
				"2024": ["solid", "calendar", "magenta-red"],
				"the future": ["solid", "calendar-plus", "magenta"],
				"wind": ["solid", "wind", "cyan"],
				"generator": ["solid", "gears", "dark-grey"],
				"energy": ["solid", "bolt", "yellow"],
				"electricity": ["solid", "plug", "yellow"],
				"moon": ["solid", "moon", "yellow"],
				"the tide": ["solid", "up-down", "cyan-blue"],
				"Boeing 737": ["solid", "plane-departure", "blue"],
				"clay": ["solid", "mound", "light-grey"],
				"coffee": ["solid", "mug-hot", "brown"],
				"frog": ["solid", "frog", "green"],
				"allergies": ["solid", "head-side-cough", "red-orange"],
				"AI": ["solid", "robot", "violet-magenta"],
				"computer": ["solid", "computer", "cyan-blue"],
				"error": ["solid", "circle-exclamation", "red"],
				"mistake": ["solid", "triangle-exclamation", "yellow-orange"],
				"happiness": ["solid", "face-smile", "yellow"],
				"fun": ["solid", "face-smile-beam", "yellow-orange"],
				"emotion": ["regular", "face-smile", "cyan-blue"],
				"video game": ["solid", "gamepad", "violet"],
				"Lethal Company": ["solid", "user-astronaut", "red"],
				"code": ["solid", "code", "green"],
				"program": ["regular", "file-code", "pea-green"],
				"programmer": ["solid", "laptop-code", "cyan-blue"],
				"programming language": ["solid", "bars-staggered", "red-orange"],
				"Java": ["solid", "mug-hot", "blue"],
				"big": ["solid", "maximize", "magenta-red"],
				"small": ["solid", "minimize", "violet-magenta"],
				"reading": ["solid", "book-open-reader", "green"],
				"sadness": ["solid", "face-frown", "red-orange"],
				"desert": ["solid", "plant-wilt", "yellow-orange"],
				"sand": ["solid", "mound", "tan"],
				"rock": ["solid", "hill-rockslide", "dark-grey"],
				"bicycle": ["solid", "bicycle", "blue"],
				"station": ["solid", "building-columns", "magenta-red"],
				"subway station": ["solid", "building-columns", "green-cyan"],
				"sailor": ["solid", "sailboat", "blue-violet"],
				"mermaid": ["solid", "person-drowning", "magenta"],
				"dam": ["solid", "bridge-lock", "dark-grey"],
				"glass": ["regular", "square", "cyan-blue"],
				"beaver": ["solid", "otter", "brown"],
				"highway": ["solid", "road", "dark-grey"],
				"ice": ["solid", "icicles", "cyan"],
				"Antarctica": ["solid", "icicles", "light-grey"],
				"window": ["solid", "person-through-window", "cyan"],
				"phone": ["solid", "mobile-screen", "green-cyan"],
				"truck": ["solid", "truck", "red-orange"],
				"bus": ["solid", "bus", "yellow-orange"],
				"otter": ["solid", "otter", "violet-magenta"],
				"Airbus": ["solid", "truck-plane", "cyan-blue"],
				"A380": ["solid", "plane-up", "blue"],
				"crash": ["solid", "explosion", "red"],
				"swamp": ["solid", "water", "green"],
				"Microsoft Flight Simulator": ["solid", "plane-arrival", "cyan-blue"],
				"flight": ["solid", "plane-departure", "cyan-blue"],
				"Germany": ["solid", "earth-europe", "red"],
				"Sahara": ["solid", "mountain-sun", "tan"],
				"ash": ["solid", "braille", "light-grey"],
				"solar system": ["solid", "meteor", "blue-violet"],
				"cloud": ["solid", "cloud", "light-grey"],
				"global warming": ["solid", "exclamation", "red"],
				"runway": ["solid", "road-bridge", "dark-grey"],
				"airport": ["solid", "cart-flatbed-suitcase", "magenta-red"],
				"round": ["solid", "record-vinyl", "yellow"],
				"Haneda Airport (RJTT)": ["solid", "road-bridge", "blue-violet"],
				"library": ["solid", "book-atlas", "yellow-green"],
				"librarian": ["solid", "person-circle-question", "green"],
				"the past": ["solid", "calendar-minus", "cyan-blue"],
				"articulated bus": ["solid", "bus", "red-orange"],
				"giant": ["solid", "person-circle-plus", "pea-green"],
				"Eiffel Tower": ["solid", "tower-observation", "violet-magenta"],
				"Paris": ["solid", "building-flag", "magenta"],
				"France": ["solid", "flag", "magenta-red"],
				"Charles de Gaulle Airport (LFPG)": ["solid", "road-bridge", "magenta"],
				"language": ["solid", "language", "green-cyan"],
				"French": ["solid", "language", "magenta-red"],
				"German": ["solid", "language", "red"],
				"witch": ["solid", "broom", "green"],
				"magic": ["solid", "wand-magic-sparkles", "red-orange"],
				"wizard": ["solid", "hat-wizard", "violet"],
				"fear": ["solid", "face-flushed", "cyan-blue"],
				"depression": ["solid", "face-sad-cry", "red-orange"],
				"The Great Depression": ["solid", "face-sad-cry", "red"],
				"mammal": ["solid", "paw", "brown"],
				"platypus": ["solid", "question", "green-cyan"],
				"evaporation": ["solid", "cloud-showers-water", "cyan"],
				"pizza": ["solid", "pizza-slice", "red"],
				"Tokyo": ["solid", "tree-city", "magenta"],
				"Jupiter": ["solid", "earth-oceania", "tan"],
				"Mars": ["solid", "earth-asia", "red-orange"],
				"alien": ["solid", "person-circle-question", "green"],
				"graphic design": ["solid", "pen-to-square", "green-cyan"],
				"galaxy": ["solid", "record-vinyl", "violet"],
				"universe": ["solid", "ring", "violet-magenta"],
				"multiverse": ["solid", "circle-nodes", "magenta"],
				"spell": ["solid", "scroll", "yellow-green"],
				"infrastructure": ["solid", "plug", "light-grey"],
				"George Orwell": ["solid", "person-rays", "cyan"],
				"pollution": ["solid", "smog", "dark-grey"],
				"traffic": ["solid", "car-on", "red"],
				"Harry Potter": ["solid", "hat-wizard", "tan"],
				"broom": ["solid", "broom", "brown"],
				"child": ["solid", "child", "pea-green"],
				"Japan": ["solid", "earth-asia", "violet-magenta"],
				"Europe": ["solid", "earth-europe", "red"],
				"Asia": ["solid", "earth-asia", "violet"],
				"eclipse": ["solid", "circle-half-stroke", "yellow-orange"],
				"Minecraft": ["solid", "cubes", "green"],
				"barbecue": ["solid", "hotdog", "red"],
				"hawk": ["solid", "feather", "brown"],
				"space": ["regular", "square", "blue-violet"],
				"empty": ["regular", "square", "magenta-red"],
				"full": ["solid", "square", "red"],
				"container": ["solid", "box-open", "green-cyan"],
				"bucket": ["solid", "bucket", "light-grey"],
				"bath": ["solid", "bath", "cyan-blue"],
				"bubble bath": ["solid", "soap", "blue"],
				"England": ["solid", "earth-europe", "red"],
				"vacation": ["solid", "map-pin", "blue-violet"],
				"Tokyo Tower": ["solid", "tower-observation", "red"],
				"public transportation": ["solid", "wheelchair-move", "cyan-blue"],
				"Adobe Photoshop": ["solid", "file-image", "blue"],
				"Boeing 747": ["solid", "plane-departure", "blue"],
				"GJ 1214 b": ["solid", "circle", "blue"],
				"birdhouse": ["solid", "crow", "red-orange"],
				"light": ["regular", "lightbulb", "yellow"],
				"supernova": ["solid", "explosion", "magenta"],
				"darkness": ["solid", "circle-half-stroke", "blue-violet"],
				"diamond": ["solid", "diamond", "cyan"],
				"stone": ["solid", "hill-rockslide", "light-grey"],
				"pet": ["solid", "shield-dog", "violet"],
				"cow": ["solid", "cow", "brown"],
				"dog": ["solid", "dog", "tan"],
				"cat": ["solid", "cat", "tan"],
				"They Both Die at the End": ["solid", "skull", "blue-violet"],
				"mansion": ["solid", "house-chimney-window", "magenta"],
				"goose": ["solid", "kiwi-bird", "light-grey"],
				"duck": ["solid", "dove", "green"],
				"Untitled Goose Game": ["solid", "gamepad", "blue"],
				"game engine": ["solid", "gears", "dark-grey"],
				"Unity": ["solid", "gears", "light-grey"],
				"sound": ["solid", "ear-listen", "yellow"],
				"speech": ["solid", "comments", "yellow-orange"],
				"music": ["solid", "music", "violet-magenta"],
			};

			// version #
			const version = "v1.5.0";

			// frequently referenced elements
			const discoveredItemsContainer = document.querySelector(".discovered-items");
			const discoveredPercentage = document.querySelector(".discovered-fraction");
			const versionElement = document.querySelector(".version");
			const helpButton = document.querySelector(".help-button");
			const clearButton = document.querySelector(".clear-button");
			const itemContainer = document.querySelector(".item-container");

			const sortByTimeButton = document.querySelector("#sort-time");
			const sortByNameButton = document.querySelector("#sort-name");
			const sortByColourButton = document.querySelector("#sort-colour");

			const searchField = document.querySelector("#search");

			// "storage area" a.k.a. discoveredItemsContainer width
			const storageAreaWidth = discoveredItemsContainer.getBoundingClientRect().width;

			// # of items, # of recipes, what has been discovered so far
			const totalItems = Object.keys(iconAssociations).length;
			const totalRecipes = recipes.length;
			var discoveredItemsData = [];

			// version & info message
			console.log(`Finite Craft\n${version}\n(${totalItems} total items, ${totalRecipes} total recipes)`);
			versionElement.innerHTML = version;

			// add item to list of discoveries
			function discover(item) {
				if (item != null && item != undefined) {
					for (let i = 0; i < discoveredItemsData.length; i++) {
						if (discoveredItemsData[i][0] == item) {
							return;
						}
					}

					discoveredItemsData.push([item, Date.now(), iconAssociations[item][2]]);
					discoveredPercentage.innerHTML = `${discoveredItemsData.length}/${totalItems}`;
					discoveredItemsContainer.appendChild(createItem(item));

					if (sortMode == "name") sortDiscoveriesByName();
					if (sortMode == "colour") sortDiscoveriesByColour();
					search();

					if (!initialItems.includes(item)) window.history.replaceState({}, "", "?x=" + toBase64(getProgress()));
				}
			}

			// add item to list of discoveries but don't change the URL
			function discoverWithoutReplaceState(item) {
				if (item != null && item != undefined) {
					for (let i = 0; i < discoveredItemsData.length; i++) {
						if (discoveredItemsData[i][0] == item) {
							return;
						}
					}

					discoveredItemsData.push([item, 0, iconAssociations[item][2]]);
					discoveredPercentage.innerHTML = `${discoveredItemsData.length}/${totalItems}`;
					discoveredItemsContainer.appendChild(createItem(item));

					if (sortMode == "name") sortDiscoveriesByName();
					if (sortMode == "colour") sortDiscoveriesByColour();
					search();
				}
			}

			// place a new item on the screen: specified item, x, y
			function spawnItem(item, x, y) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.style = `left: ${x}px; top: ${y}px`;
				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);
				return newItemElement;
			}

			// for quick testing:
			function si(item) {
				spawnItemAtRandomPosition(item);
			}

			// place a new item on the screen: specified item, midpoints
			function spawnItemFromMidpoints(item, midpointX, midpointY) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);

				let justPlacedElement = document.querySelector(".item-container .item:last-child");
				let newX = justPlacedElement.offsetWidth / 2;
				let newY = justPlacedElement.offsetHeight / 2;
				justPlacedElement.style = `left: ${midpointX - newX}px; top: ${midpointY - newY}px`;
			}

			// random position item spawn
			function spawnItemAtRandomPosition(item) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour

				let x = Math.floor(Math.random() * (window.innerWidth - storageAreaWidth - 700) + 200);
				let y = Math.floor(Math.random() * (window.innerHeight - 500) + 200);

				newItemElement.style = `left: ${x}px; top: ${y}px`;

				newItemElement.id = Date.now(); // make the element unique with a time-related id
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				itemContainer.appendChild(newItemElement);
				discover(item);
			}

			// create item element for the discovered items container, don't discover
			function createItem(item) {
				let newItemElement = document.createElement("div");
				newItemElement.classList.add("item");
				newItemElement.classList.add(iconAssociations[item][2]); // colour
				newItemElement.innerHTML = `<i class="fa-${iconAssociations[item][0]} fa-${iconAssociations[item][1]}"></i><span>${item}</span>`;
				return newItemElement;
			}

			// get the item element
			function getItemElement(element) {
				if (element instanceof HTMLDivElement) {
					return element;
				} else {
					return element.parentElement;
				}
			}

			// get item name from item element
			function extractItemName(element) {
				return element.children[element.children.length - 1].innerHTML;
			}

			// drag and drop variables
			var drag = false; // dragging currently?
			var dragElement; // what to drag?
			var dragOffsetX = 0; // difference between click x and left of dragElement
			var dragOffsetY = 0; // difference between click y and top of dragElement
			var fromX = 0; // initial page x
			var fromY = 0; // initial page y
			var toX = 0; // new page x (required for touches)
			var toY = 0; // new page y (required for touches)
			var clickedDiscovery = false; // was the click from the discoveries panel?

			// double click variables
			var lastClickTime = 0;
			var lastClickElement;

			// "mousedown" listener - for the main area
			itemContainer.addEventListener("mousedown", (e) => {
				let itemElement = getItemElement(e.target);
				let rect = itemElement.getBoundingClientRect();

				// left click: drag or duplicate
				if (e.button == 0) {
					if (Date.now() - lastClickTime < 500 && e.target == lastClickElement) {
						// double click: duplicate item
						spawnItem(extractItemName(itemElement), rect.left + 10, rect.top - 10);
					} else {
						// click and drag: move item
						drag = true; // start dragging
						dragElement = itemElement; // set dragElement to item element clicked
						dragOffsetX = e.pageX - rect.left;
						dragOffsetY = e.pageY - rect.top;
						fromX = e.pageX;
						fromY = e.pageY;
						document.querySelector(".item-container .item:last-child").after(dragElement); // move element to top!
					}

					lastClickTime = Date.now();
					lastClickElement = e.target;
				}

				// middle click: duplicate
				if (e.button == 1) spawnItem(extractItemName(itemElement), rect.left + 10, rect.top - 10);
			});

			// "touchstart" listener - for the main area ("mousedown" but for fingers)
			itemContainer.addEventListener("touchstart", (e) => {
				let itemElement = getItemElement(e.touches[0].target);
				let rect = itemElement.getBoundingClientRect();

				// there is only "left click" (tap) - to drag:

				// tap and drag: move item
				drag = true; // start dragging
				dragElement = itemElement; // set dragElement to item element clicked
				dragOffsetX = e.touches[0].pageX - rect.left;
				dragOffsetY = e.touches[0].pageY - rect.top;
				fromX = e.touches[0].pageX;
				fromY = e.touches[0].pageY;
				document.querySelector(".item-container .item:last-child").after(dragElement); // move element to top!

				toX = fromX;
				toY = fromY;
			});

			// "mousedown" listener - for the "storage area"
			discoveredItemsContainer.addEventListener("mousedown", (e) => {
				if (e.target == discoveredItemsContainer) return;

				let itemElement = getItemElement(e.target);
				let itemName = extractItemName(itemElement);
				let rect = itemElement.getBoundingClientRect();

				// left click: start dragging
				if (e.button == 0) {
					drag = true; // start dragging
					dragElement = spawnItem(itemName, rect.left, rect.top); // set dragElement to item element clicked
					dragOffsetX = e.pageX - rect.left;
					dragOffsetY = e.pageY - rect.top;
					fromX = e.pageX;
					fromY = e.pageY;
					itemContainer.appendChild(dragElement); // move element to top!

					clickedDiscovery = true;
				}

				// middle click: spawn item
				if (e.button == 1) spawnItemAtRandomPosition(itemName);
			});

			// "touchstart" listener - for the "storage area" ("mousedown" but for fingers)
			discoveredItemsContainer.addEventListener("touchstart", (e) => {
				if (e.touches[0].target == discoveredItemsContainer) return;

				let itemElement = getItemElement(e.touches[0].target);
				let itemName = extractItemName(itemElement);
				let rect = itemElement.getBoundingClientRect();

				// there is only "left click" (tap) - to drag:

				drag = true; // start dragging
				dragElement = spawnItem(itemName, rect.left, rect.top); // set dragElement to item element clicked
				dragOffsetX = e.touches[0].pageX - rect.left;
				dragOffsetY = e.touches[0].pageY - rect.top;
				fromX = e.touches[0].pageX;
				fromY = e.touches[0].pageY;
				itemContainer.appendChild(dragElement); // move element to top!

				clickedDiscovery = true;

				toX = fromX;
				toY = fromY;
			});

			// "mousemove" listener
			document.addEventListener("mousemove", (e) => {
				if (drag) {
					let x = e.pageX;
					let y = e.pageY;
					dragElement.style = `left: ${x - dragOffsetX}px; top: ${y - dragOffsetY}px`; // set x and y coordinate of element
				}
			});

			// "touchmove" listener ("mousemove" but for fingers)
			document.addEventListener("touchmove", (e) => {
				if (drag) {
					let x = e.touches[0].pageX;
					let y = e.touches[0].pageY;
					dragElement.style = `left: ${x - dragOffsetX}px; top: ${y - dragOffsetY}px`; // set x and y coordinate of element

					toX = x;
					toY = y;
				}
			});

			// "mouseup" listener
			document.addEventListener("mouseup", (e) => {
				if (drag) {
					drag = false; // stop dragging

					if (e.pageX > window.innerWidth - storageAreaWidth) dragElement.remove(); // remove if within "storage area"
					else if (e.pageX != fromX && e.pageY != fromY) checkForOverlap(); // check for overlap --> craft! (unless element never moved)

					// if the element never moved, but was in the storage/discoveries area, place a copy somewhere on the screen
					if (e.pageX == fromX && e.pageY == fromY && clickedDiscovery) spawnItemAtRandomPosition(extractItemName(dragElement));

					// regardless of outcome, reset "clickedDiscovery"
					clickedDiscovery = false;
				}
			});

			// "touchend" listener ("mouseup" but for fingers)
			document.addEventListener("touchend", (e) => {
				if (drag) {
					drag = false; // stop dragging

					if (toX > window.innerWidth - storageAreaWidth) dragElement.remove(); // remove if within "storage area"
					else if (toX != fromX && toY != fromY) checkForOverlap(); // check for overlap --> craft! (unless element never moved)

					// for some reason, 'mouseup' handles spawnItemAtRandomPosition(); (test on an actual touchscreen device!)

					// regardless of outcome, reset "clickedDiscovery"
					clickedDiscovery = false;
				}
			});

			// determine if two elements are overlapping
			function checkForOverlap() {
				let elementsFound = []; // store a list of elements overlapped by dragElement, to choose the last one

				itemContainer.querySelectorAll(".item").forEach((item) => {
					let item1 = extractItemName(dragElement);
					let item2 = extractItemName(item);

					if (item1 != item2 || dragElement.id != item.id) {
						let rect1 = dragElement.getBoundingClientRect();
						let rect2 = item.getBoundingClientRect();

						if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
							elementsFound.unshift(item);
						}
					}
				});

				for (let i = 0; i < elementsFound.length; i++) {
					if (findRecipe(elementsFound[i])) break;
				}
			}

			// see if dragElement and another go together
			function findRecipe(element) {
				let item1 = extractItemName(dragElement);
				let item2 = extractItemName(element);

				for (let i = 0; i < recipes.length; i++) {
					if ((recipes[i][0] == item1 && recipes[i][1] == item2) || (recipes[i][1] == item1 && recipes[i][0] == item2)) {
						craft(dragElement, element, recipes[i][2]);
						return true;
					}
				}
				return false;
			}

			// craft!
			function craft(ingredient1, ingredient2, result) {
				// get the midpoint between the two ingredients
				let midpointX = (ingredient1.offsetLeft + ingredient1.offsetWidth / 2 + ingredient2.offsetLeft + ingredient2.offsetWidth / 2) / 2;
				let midpointY = (ingredient1.offsetTop + ingredient1.offsetHeight / 2 + ingredient2.offsetTop + ingredient2.offsetHeight / 2) / 2;

				// place the result
				spawnItemFromMidpoints(result, midpointX, midpointY);

				// remove the ingredients
				ingredient1.remove();
				ingredient2.remove();
			}

			// right click to delete item
			itemContainer.addEventListener("contextmenu", (e) => {
				e.preventDefault();
				getItemElement(e.target).remove();
				return false;
			});

			// help button
			helpButton.addEventListener("click", (e) => {
				window.open("craft/how-to.html", "_blank").focus();
			});

			// clear button
			clearButton.addEventListener("click", (e) => {
				itemContainer.innerHTML = "";
			});

			// debug: get everything
			function getAll() {
				for (let thing in iconAssociations) {
					discoverWithoutReplaceState(thing);
				}
			}

			// convert the discoveries array to a binary number
			function getProgress() {
				let binaryString = "";

				// temporary list of discoveries
				let discoveredItems = [];
				for (let i = 0; i < discoveredItemsData.length; i++) {
					discoveredItems.push(discoveredItemsData[i][0]);
				}

				// each item gets "true" or "false"
				for (let thing in iconAssociations) {
					if (discoveredItems.includes(thing)) binaryString = "1" + binaryString;
					else binaryString = "0" + binaryString;
				}

				return binaryString;
			}

			// pad beginning of binary to make it a 6-bit-long chunk
			function padStartBinary(binaryString) {
				if (binaryString.length % 6 != 0) binaryString = binaryString.padStart(binaryString.length + (6 - (binaryString.length % 6)), "0");
				return binaryString;
			}

			// convert binary to base64
			function toBase64(binaryString) {
				let base64String = "";

				// make sure the string consists of 6-bit-long chunks
				binaryString = padStartBinary(binaryString);

				let binaryChunks = binaryString.match(/.{6}/g); // split the string into chunks

				// go through chunks, add base64 value to string
				for (let i = 0; i < binaryChunks.length; i++) {
					let number = parseInt(binaryChunks[i], 2);
					base64String = base64String + characters[number];
				}

				return base64String.replace(/^0+/, "");
			}

			// convert base64 to binary
			function fromBase64(base64String) {
				let binaryString = "";

				let base64characters = base64String.split("");
				for (let i = 0; i < base64characters.length; i++) {
					binaryString = binaryString + padStartBinary(characters.indexOf(base64characters[i]).toString(2));
				}

				return binaryString;
			}

			// convert a binary number to discoveries
			function loadProgress(binaryString) {
				let binaryArray = binaryString.split(""); // get individual bits
				binaryArray.reverse(); // deal with values in ascending order

				for (let i = 0; i < binaryArray.length; i++) {
					// discovers the items that are "true" - this will break across versions if I add more 'int' keys
					if (binaryArray[i] == 1) {
						discoverWithoutReplaceState(Object.keys(iconAssociations)[i]);
						discoveredItemsData[discoveredItemsData.length - 1][1] = (i + 1).toString().padStart(10, "0");
					}
				}
			}

			// load discoveries from URL
			const query = window.location.search;
			const item = new URLSearchParams(query);
			const save = item.get("x");

			if (save != null && save != "") loadProgress(fromBase64(save));

			// looks like I need a "collator", whatever that is
			const collator = new Intl.Collator("en");

			// sort discoveries alphabetically
			function sortDiscoveriesByName() {
				discoveredItemsData.sort(collator.compare);
				showSortedItems();
			}

			// sort discoveries by time*
			function sortDiscoveriesByTime() {
				// swap time to first index
				for (let i = 0; i < discoveredItemsData.length; i++) {
					[discoveredItemsData[i][0], discoveredItemsData[i][1]] = [discoveredItemsData[i][1], discoveredItemsData[i][0]];
				}
				discoveredItemsData.sort(); // sort, swap back
				for (let i = 0; i < discoveredItemsData.length; i++) {
					[discoveredItemsData[i][0], discoveredItemsData[i][1]] = [discoveredItemsData[i][1], discoveredItemsData[i][0]];
				}

				showSortedItems();
			}

			// sort discoveries by colour (then alphabetically)
			function sortDiscoveriesByColour() {
				// an array for each colour
				let red = [];
				let redOrange = [];
				let yellowOrange = [];
				let yellow = [];
				let peaGreen = [];
				let yellowGreen = [];
				let green = [];
				let greenCyan = [];
				let cyan = [];
				let cyanBlue = [];
				let blue = [];
				let blueViolet = [];
				let violet = [];
				let violetMagenta = [];
				let magenta = [];
				let magentaRed = [];
				let tan = [];
				let brown = [];
				let lightGrey = [];
				let darkGrey = [];

				// separate colours
				for (let i = 0; i < discoveredItemsData.length; i++) {
					if (discoveredItemsData[i][2] == "red") red.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "red-orange") redOrange.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "yellow-orange") yellowOrange.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "yellow") yellow.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "pea-green") peaGreen.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "yellow-green") yellowGreen.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "green") green.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "green-cyan") greenCyan.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "cyan") cyan.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "cyan-blue") cyanBlue.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "blue") blue.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "blue-violet") blueViolet.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "violet") violet.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "violet-magenta") violetMagenta.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "magenta") magenta.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "magenta-red") magentaRed.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "tan") tan.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "brown") brown.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "light-grey") lightGrey.push(discoveredItemsData[i]);
					if (discoveredItemsData[i][2] == "dark-grey") darkGrey.push(discoveredItemsData[i]);
				}

				// sort each alphabetically
				red.sort(collator.compare);
				redOrange.sort(collator.compare);
				yellowOrange.sort(collator.compare);
				yellow.sort(collator.compare);
				peaGreen.sort(collator.compare);
				yellowGreen.sort(collator.compare);
				green.sort(collator.compare);
				greenCyan.sort(collator.compare);
				cyan.sort(collator.compare);
				cyanBlue.sort(collator.compare);
				blue.sort(collator.compare);
				blueViolet.sort(collator.compare);
				violet.sort(collator.compare);
				violetMagenta.sort(collator.compare);
				magenta.sort(collator.compare);
				magentaRed.sort(collator.compare);
				tan.sort(collator.compare);
				brown.sort(collator.compare);
				lightGrey.sort(collator.compare);
				darkGrey.sort(collator.compare);

				// combine and overwrite
				discoveredItemsData = red.concat(
					redOrange,
					yellowOrange,
					yellow,
					peaGreen,
					yellowGreen,
					green,
					greenCyan,
					cyan,
					cyanBlue,
					blue,
					blueViolet,
					violet,
					violetMagenta,
					magenta,
					magentaRed,
					tan,
					brown,
					lightGrey,
					darkGrey
				);

				showSortedItems();
			}

			// replace discovered items with new order
			function showSortedItems() {
				discoveredItemsContainer.innerHTML = "";

				for (let i = 0; i < discoveredItemsData.length; i++) {
					discoveredItemsContainer.appendChild(createItem(discoveredItemsData[i][0]));
				}
			}

			// click on sort buttons
			sortByTimeButton.addEventListener("click", (e) => {
				sortDiscoveriesByTime();
				search();

				sortByTimeButton.classList.add("active");
				sortByNameButton.classList.remove("active");
				sortByColourButton.classList.remove("active");

				sortMode = "time";
			});
			sortByNameButton.addEventListener("click", (e) => {
				sortDiscoveriesByName();
				search();

				sortByTimeButton.classList.remove("active");
				sortByNameButton.classList.add("active");
				sortByColourButton.classList.remove("active");

				sortMode = "name";
			});
			sortByColourButton.addEventListener("click", (e) => {
				sortDiscoveriesByColour();
				search();

				sortByTimeButton.classList.remove("active");
				sortByNameButton.classList.remove("active");
				sortByColourButton.classList.add("active");

				sortMode = "colour";
			});

			var sortMode = "time";

			// search!!!!!
			searchField.addEventListener("input", (e) => {
				search();
			});
			searchField.addEventListener("focus", (e) => {
				setTimeout(() => {
					searchField.setSelectionRange(0, searchField.value.length);
				}, 100);
			});
			function search() {
				let searchTerm = searchField.value;
				try {
					searchTerm = new RegExp(searchTerm);

					for (let i = 0; i < discoveredItemsContainer.children.length; i++) {
						let itemElement = discoveredItemsContainer.children[i];
						let itemName = extractItemName(itemElement);

						if (searchTerm.test(itemName)) itemElement.style = "display: initial";
						else itemElement.style = "display: none";
					}
				} catch {
					console.log("INVALID RegEx");
				}
			}

			// somehow I didn't add a clear search button
			document.querySelector("#clear-search").addEventListener("click", (e) => {
				document.querySelector("input").value = "";
				search();
			});

			// initial items!!!
			const initialItems = ["air", "earth", "fire", "water"];
			for (let i = 0; i < initialItems.length; i++) discoverWithoutReplaceState(initialItems[i]);
			sortByTimeButton.classList.add("active");
		</script>
	</body>
</html>
