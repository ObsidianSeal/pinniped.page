<!DOCTYPE html>

<html lang="en">
	<head>
		<title>calc</title>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../images/icon.png" />

		<meta property="og:url" content="https://pinniped.page/projects/calc" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="calc" />
		<meta property="og:description" content="It does something." />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<style>
			@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700");

			:root {
				--c1: #264653;
				--c2: #2a9d8f;
				--c3: #e9c46a;
				--c4: #f4a261;
				--c5: #e76f51;
			}

			* {
				margin: 0;
				border: 0;
				padding: 0;

				font-family: "Roboto";
				font-size: 24px;
				font-weight: 400;
			}

			body {
				padding: 50px;

				background-color: black;
				color: white;
			}

			::selection {
				background-color: white;
				color: black;
			}

			h1,
			h2,
			p {
				width: fit-content;
				margin-bottom: 20px;
			}

			h1,
			h2 {
				font-weight: 700;

				background-clip: text;
				color: transparent;
			}

			h1 {
				font-size: 56px;
				background-image: linear-gradient(to right, var(--c5), var(--c3));
			}

			h2 {
				font-size: 40px;
				background-image: linear-gradient(to right, var(--c2), var(--c1));
			}

			input {
				width: 100px;

				border-bottom: 2px solid white;

				background-color: black;
				color: white;

				transition: border 0.5s, color 0.5s;
				caret-color: var(--c2);
				text-align: right;
			}

			input:focus {
				border-bottom: 2px solid var(--c2);
				outline: none;

				color: var(--c2);
			}

			span {
				color: var(--c5);
			}
		</style>
	</head>

	<body>
		<h1>calc</h1>

		<p>Δx: <input id="x-input" />m</p>
		<p>Δy: <input id="y-input" />m</p>
		<p>angle: <input id="angle-input" />°</p>

		<h2>output:</h2>

		<p id="output">-</p>

		<script>
			var x = 0;
			var y = 0;
			var angle = 0;

			function calculate(a, b, c) {
				let radians = c * (Math.PI / 180);
				let answer = Math.sqrt(
					(-9.8 * 0.014 * a * a) / (2 * Math.cos(radians) * Math.cos(radians) * (b - 0.3 * Math.sin(radians) - Math.tan(radians) * a) * 29.13) +
						(2 * 0.014 * 9.8 * (b - 0.3 * Math.sin(radians))) / 29.13
				);

				return Math.round(answer * 10000) / 100;
			}

			document.querySelectorAll("input").forEach((input) => {
				input.addEventListener("input", (e) => {
					let value = input.value;
					if (value == "") value = 0;

					if (input.id == "x-input") x = value;
					if (input.id == "y-input") y = value;
					if (input.id == "angle-input") angle = value;

					if ((x != 0 || y != 0) && angle != 0) {
						let output = calculate(parseFloat(x), parseFloat(y), parseFloat(angle));

						if (isNaN(output)) document.querySelector("#output").innerHTML = "<span>error</span>";
						else document.querySelector("#output").innerHTML = output + "cm";
					} else {
						document.querySelector("#output").innerHTML = "-";
					}
				});
			});
		</script>
	</body>
</html>
