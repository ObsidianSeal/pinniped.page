<!DOCTYPE html>

<html lang="en">
	<head>
		<title>crosswords</title>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../images/icon.png" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-25..200" />

		<meta property="og:url" content="https://pinniped.page/projects/crosswords" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="crosswords" />
		<meta property="og:description" content="Solve crosswords by Obsidian_Seal and others." />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<meta name="description" content="Crossword renderer beta. [description subject to change]" />
		<meta name="keywords" content="crosswords" />

		<style>
			@import url("https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900");

			:root {
				/* Thank you monkeytype (earthsong) */
				--bg: #292521;
				--main: #509452;
				--caret: #1298ba;
				--sub: #f5ae2d;
				--sub-alt: #1d1b18;
				--text: #e6c7a8;
				--error: #7e2a33;
				--error-extra: #ff645a;

				--other: #4b181e;
			}

			::-webkit-scrollbar {
				width: 20px;
				height: 20px;
			}

			::-webkit-scrollbar-thumb {
				background-color: var(--main);
				border: 5px solid var(--bg);
			}

			::-webkit-scrollbar-thumb:hover {
				background-color: var(--sub);
			}

			::-webkit-scrollbar-corner {
				background-color: var(--bg);
			}

			* {
				margin: 0;
				border: 0;
				padding: 0;
				font-family: "Roboto Slab";
			}

			*::selection {
				background-color: var(--sub-alt);
			}

			body {
				margin: 20px;
				border: 2px solid var(--main);
				padding: 20px;

				background-color: var(--bg);
				min-height: calc(100vh - 84px);
			}

			h1,
			h2 {
				color: var(--main);
				width: fit-content;
			}

			h1 {
				font-size: 72px;
				font-weight: 700;
				position: relative;
			}

			h2 {
				font-size: 36px;
				font-weight: 500;

				margin-bottom: 50px;
			}

			h2 span {
				color: var(--sub);
			}

			h3,
			h4,
			h5 {
				color: var(--caret);
			}

			h3 {
				font-size: 36px;
				font-weight: 500;

				margin-bottom: 20px;
			}

			h4,
			h5 {
				font-size: 24px;
			}

			h4 {
				font-weight: 300;
				margin-bottom: 50px;
			}

			h4 span {
				background-color: var(--sub-alt);
				font-weight: 500;
			}

			h5 {
				font-weight: 700;
				width: fit-content;
			}

			h5:hover,
			h5:focus {
				color: var(--sub);
				cursor: pointer;
			}

			h5 .material-symbols-outlined {
				translate: 0 3px;
			}

			.material-symbols-outlined {
				font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
			}

			.filled {
				font-variation-settings: "FILL" 1, "wght" 400, "GRAD" 0, "opsz" 24;
			}

			h1 .material-symbols-outlined:not(.circle, .x) {
				font-size: 72px;
				translate: 0 10px;
			}

			h1 .material-symbols-outlined:not(.circle, .x):hover {
				cursor: pointer;
				color: var(--sub);
			}
			.circle {
				font-size: 6px;
				translate: 0 -3px;
				margin: 0 10px 0 10px;
			}

			.x {
				font-size: 16px;
				translate: 0 2px;
			}

			.choose-puzzle-menu {
				width: 500px;
				height: 395px;

				position: absolute;
				top: 100px;

				background-color: var(--bg);
				border: 2px solid var(--sub-alt);
				padding: 0;

				z-index: 1;
				overflow-y: auto;
			}

			.choose-puzzle-menu div {
				font-size: 32px;
				font-weight: 500;
				padding: 5px 0 10px 10px;
				color: var(--main);
			}

			.choose-puzzle-menu div:hover {
				cursor: pointer;
				background-color: var(--sub-alt);
			}

			.choose-puzzle-menu div div {
				font-size: 16px;
				font-weight: 300;
				padding: 0;

				color: var(--text);
			}

			.timer {
				font-size: 32px;
				font-weight: 300;

				position: absolute;
				top: 50px;
				right: 80px;

				width: 110px;
				display: flex;
				justify-content: space-between;

				color: var(--caret);
			}

			.pause-button {
				font-size: 32px;
				translate: 0 7px;
			}

			h5,
			.choose-puzzle-menu,
			.material-symbols-outlined,
			.timer,
			.crossword,
			.loading-panel,
			.blur * {
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			.crossword-container {
				display: flex;
				justify-content: center;
				gap: 40px;
			}

			.crossword {
				width: fit-content;
			}

			.row {
				display: flex;
				width: fit-content;
			}

			.square {
				width: 50px;
				height: 40px;

				border-top: 2px solid var(--sub-alt);
				border-left: 2px solid var(--sub-alt);

				display: flex;
				align-items: center;
				justify-content: center;

				font-size: 36px;
				font-weight: 500;
				padding-top: 10px;

				color: var(--text);
				background-color: var(--bg);

				position: relative;
			}

			.square:last-child {
				border-right: 2px solid var(--sub-alt);
			}

			.row:last-child .square {
				border-bottom: 2px solid var(--sub-alt);
			}

			.void {
				background-color: var(--sub-alt);
			}

			.square span {
				font-size: 12px;
				font-weight: 300;

				position: absolute;
				top: 0;
				left: 5px;
			}

			.active-word-square {
				background-color: var(--other);
			}

			.active-square {
				background-color: var(--error);
			}

			.clues-container {
				border: 2px solid var(--sub-alt);
				color: var(--text);
				width: 502px;
				height: fit-content;
				display: flex;
			}

			.across-clues,
			.down-clues {
				width: 50%;
			}

			.across-clues {
				border-right: 2px solid var(--sub-alt);
			}

			.clues-title {
				font-size: 32px;
				font-weight: 500;
				padding: 5px 0 5px 10px;
				border-bottom: 2px solid var(--sub-alt);
			}

			.clues {
				height: 100%;
				overflow: auto;
				max-height: 450px;
				padding: 7px 0 13px 0;
			}

			.clue {
				padding: 3px 10px 7px 0;
				display: grid;
				grid-template-columns: 30px auto;
				gap: 10px;
			}

			.clue.active-clue-opposite {
				background-color: var(--other);
			}

			.clue.active-clue {
				background-color: var(--error);
			}

			.clue div:first-child {
				font-weight: 700;
				text-align: right;
			}

			.win-panel {
				position: absolute;
				top: 200px;
				left: calc((100vw - 504px) / 2);

				border: 2px solid var(--sub-alt);
				background-color: var(--bg);
				width: 460px;
				height: 260px;
				padding: 20px 0 20px 40px;
			}

			.close-button {
				position: absolute;
				top: 20px;
				right: 20px;
				color: var(--caret);
			}

			.close-button:hover,
			.close-button:focus {
				color: var(--sub);
				cursor: pointer;
			}

			.loading-panel {
				position: absolute;
				top: 0;
				left: 0;

				width: 100%;
				height: 100%;

				display: flex;
				align-items: center;
				justify-content: center;

				background-color: var(--sub-alt);
				color: var(--text);
				font-size: 108px;
			}

			.show {
				display: initial;
			}

			.hide {
				display: none;
			}

			.blur {
				filter: blur(5px);
			}

			#d1,
			#d2,
			#d3 {
				opacity: 0%;
			}

			#d1 {
				animation: d1 2.5s infinite 0.5s;
			}

			#d2 {
				animation: d2 2.5s infinite 0.5s;
			}

			#d3 {
				animation: d3 2.5s infinite 0.5s;
			}

			@keyframes d1 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 100%;
				}
				40% {
					opacity: 100%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}

			@keyframes d2 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 0%;
				}
				40% {
					opacity: 100%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}

			@keyframes d3 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 0%;
				}
				40% {
					opacity: 0%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}
		</style>

		<style id="styles-to-remove">
			.pause-button:hover {
				color: var(--sub);
				cursor: pointer;
			}

			.square:not(.void):hover {
				cursor: pointer;
			}

			.clue:hover {
				cursor: pointer;
			}
		</style>

		<style id="styles-to-remove-2">
			body {
				overflow: hidden;
			}
		</style>
	</head>

	<body>
		<h1>
			&ldquo;<span class="puzzle-title"></span>&rdquo; <span class="material-symbols-outlined">arrow_drop_down</span>
			<div class="choose-puzzle-menu hide"></div>
		</h1>
		<h2>by <span></span></h2>
		<div class="timer"><span>0:00</span> <span class="material-symbols-outlined filled pause-button">pause</span></div>

		<div class="crossword-container">
			<div class="crossword"></div>
			<div class="clues-container">
				<div class="across-clues">
					<div class="clues-title">ACROSS</div>
					<div class="clues"></div>
				</div>
				<div class="down-clues">
					<div class="clues-title">DOWN</div>
					<div class="clues"></div>
				</div>
			</div>
		</div>

		<div class="win-panel hide">
			<div>
				<h3>You did it!</h3>
				<h4>You solved the puzzle in <span>0:00</span>.</h4>
				<h5 tabindex="0">SHARE <span class="material-symbols-outlined">share</span></h5>
				<span class="material-symbols-outlined close-button" tabindex="0">close</span>
			</div>
		</div>

		<div class="loading-panel">Loading<d id="d1">.</d><d id="d2">.</d><d id="d3">.</d></div>

		<script>
			const version = "1.4.0 (2024/03/26)";
			console.log(`%ccrosswords v${version}`, "background: #4CAF50; color: #111; padding: 0 5px; border-radius: 10px");

			// --- 0. element constants ---
			const choosePuzzleMenuElement = document.querySelector(".choose-puzzle-menu");
			const menuArrowElement = document.querySelector("h1 .material-symbols-outlined");
			const timerContainerElement = document.querySelector(".timer");
			const timerElement = document.querySelector(".timer span");
			const pauseButtonElement = document.querySelector(".pause-button");
			const acrossCluesContainerElement = document.querySelector(".across-clues .clues");
			const downCluesContainerElement = document.querySelector(".down-clues .clues");
			const shareButtonElement = document.querySelector("h5");
			const closeButtonElement = document.querySelector(".close-button");
			const loadingPanelElement = document.querySelector(".loading-panel");

			// --- 1. load crossword & word numbers; set title, subtitle, and menu ---

			const crosswords = [
				[
					"crossword #1",
					"Obsidian_Seal",
					"H-ARMS--HOLD/E-L-E-H-O-A-/XYLEM-ATTACK/A---E-TO--E-/GRASS-ROUNDS/O-----E--U-E/N-CHILDREN-N/S-H-N--E-SIT/-BENDS-N----/T-A-I--TRAYS/EXTRAS--ITEM/N-S--OXYGENS",
					[
						"",
						"weapons",
						"",
						"a request for a library book",
						"",
						"",
						"transports water from a plant&rsquo;s roots to its stem and leaves",
						"brute force, for example",
						"",
						"homophone of the second number",
						"the green part of a lawn",
						"a game may consist of several",
						"",
						"",
						"young people",
						"",
						"",
						"use a chair",
						"warps",
						"",
						"cafeteria food holders",
						"",
						"",
						"",
						"",
						"people seen in the background of a movie",
						"",
						"thing",
						"there are two in peroxide",
					],
					[
						"six-sided shapes",
						"___together",
						"funny things on the internet",
						"opposite of cold",
						"tied shoes",
						"intense dislike",
						"",
						"",
						"also",
						"",
						"",
						"",
						"women belonging to a religious order",
						"folder for emails you&rsquo;ve written",
						"doesn&rsquo;t follow the rules",
						"large country southwest of China",
						"play written by Jonathan Larson",
						"",
						"",
						"first natural number with two digits",
						"",
						"oil ___",
						"consumed food",
						"Japanese currency",
						"a type of text message",
						"",
						"therefore",
						"",
						"",
					],
				],
				[
					"mini #1",
					"Obsidian_Seal",
					"QUEUE/U-M-A/ALTER/IT-ON/LEANS",
					["line up", "", "", "change", "", "", "well-known Stephen King novel", "atop", "the Tower of Pisa does this"],
					["bird", "ambulance employee", "makes money", "", "a standard for wireless data transmission", "very, very long time", "", "", ""],
				],
				[
					"animals",
					"Obsidian_Seal",
					"SEAL----/H----R--/ELEPHANT/E----C-U/PIG--C-R/--OX-O-T/--A--O-L/CAT--N-E",
					["the animal in Obsidian_Seal", "", "has a trunk", "", "farm animal associated with mud", "", "often used for plowing", "purring pet"],
					[
						"animal whose name is often used to refer to those who follow others blindly",
						"city critter common near garbage bins",
						"",
						"reptile with a shell",
						"",
						"animal whose name is also the acronym for Greatest of All Time",
						"",
						"",
					],
				],
				[
					"mini #2",
					"Obsidian_Seal",
					"SLATE/PET-A/IDEAS/N---T/EXIT-",
					["blank _____", "", "", "", "animal in a house", "result of brainstorming", "what a sign above a door may read"],
					["back supporting bones", "type of light", "had lunch", "opposite west", "", "", ""],
				],
				[
					"drowssorc",
					"that queer astrophysicist",
					"ANODE-------------/S------F----YAP---/TRANSFORMER---L---/R--O---O----PLANET/O------GAY--L-Y--H/PROTON------A----U/H-R--ELECTRONS---R/Y-B--U--O-H--PI--S/S----T--R-Y--A---D/ICY--R--E-T--C---A/C-E-SON-Y-HERE---Y/S-E--N----M-I-----/--TWO-------P-----",
					[
						"an electrode",
						"",
						"to talk a lot about nothing particularly meaningful",
						"",
						"robots in disguise~~",
						"",
						"we live on one of them!",
						"",
						"✨homosexual✨, also a word for happy",
						"positively charged subatomic particle",
						"",
						"",
						"negatively charged subatomic particle",
						"",
						"",
						"",
						"a greek letter, also a delicious dessert",
						"slippery due to the cold",
						"",
						"the sun but not",
						"not there",
						"",
						"second",
					],
					[
						"a field in science relating to space",
						"ribbit",
						"",
						"something children typically do",
						"",
						"not yes",
						"&ldquo;it is better to __ than to be unprepared&rdquo;",
						"fifth day of the week",
						"",
						"",
						"a spherical object",
						"a subatomic particle that is not positive nor negative",
						"",
						"a name that means &ldquo;hollow&rdquo;",
						"sounds to a beat",
						"where galaxies and stars and planets are found",
						"",
						"",
						"to throw something, also a meme",
						"",
						"",
						"a phrase commonly on a tombstone",
						"",
					],
				],
				[
					"mini #3",
					"Obsidian_Seal",
					"LEVEL/E-E-A/MONEY/U-T-E/RISER",
					["flat (palindrome)", "", "", "paper with value", "early _____"],
					["long-tailed primates from Madagascar", "lets out emotion", "one of several coverings", "", ""],
				],
				[
					"do this one",
					"Obsidian_Seal",
					"SQUARES/-U--ANA/SIGHTED/PE-E-M-/AT-YOYO/MLA-P-N/SYNAPSE",
					[
						"quadrilaterals with equal sides",
						"",
						"",
						"",
						"",
						"airline headquartered in Minato, Tokyo",
						"spotted",
						"",
						"gym class",
						"pronunciation of &ldquo;@&rdquo;",
						"spinning toy that returns when thrown",
						"",
						"",
						"paper style guidelines",
						"",
						"small gap between two neurons",
					],
					[
						"",
						"opposite of loudly",
						"medium-sized rodent",
						"&ldquo;I wouldn&rsquo;t wish that on my worst _____&rdquo;",
						"not happy",
						"",
						"messages repeatedly",
						"informal greeting",
						"",
						"",
						"",
						"police force in one of Canada&rsquo;s provinces",
						"&ldquo;invisible&rdquo; exponent",
						"",
						"&ldquo;I have __ idea&rdquo;",
						"",
					],
				],
				[
					"4 by 4",
					"Obsidian_Seal",
					"FORK/IRON/RATE/ELSE",
					["utensil", "", "", "", "Fe", "judge numerically", "in many programming languages, denotes the code to run when a condition is not met"],
					["the hottest of the four elements", "relating to the mouth", "decays", "leg joint", "", "", ""],
				],
				[
					"3 by 3",
					"Obsidian_Seal",
					"CRY/O-E/BUS",
					["weep", "", "transit vehicle"],
					["what kernels are attached to, with &ldquo;the&rdquo;", "", "response to &ldquo;Is the sun a star?&rdquo;"],
				],
				["2 by 2", "Obsidian_Seal", "NO/AR", ["response to &ldquo;Does four plus seven equal thirteen?&rdquo;", "", "argon"], ["sodium", "this __ that", ""]],
				[
					"mini #4",
					"Obsidian_Seal",
					"P-BAT/AIR-H/PLATE/E-I-R/RANGE",
					["", "animal that uses echolocation", "", "what we breathe (mostly nitrogen)", "", "dish", "word after &ldquo;mountain&rdquo; or &ldquo;free&rdquo;"],
					["page material", "protected by the skull, with &ldquo;the&rdquo;", "neither here nor _____", "", "French for &ldquo;he&rdquo;", "", ""],
				],
				[
					"mini #5",
					"Obsidian_Seal",
					"TREES/R-NGO/ADDON/I-E-A/LIDAR",
					["what you can&rsquo;t see the forest for", "", "", "", "Amnesty International, for example", "plugin", "important sensors for self-driving cars"],
					["you might go to the forest for one", "completed, like a TV show", "can be big", "underwater sensors", "", "", ""],
				],
				[
					"mini #6 - 2024/03/26",
					"Obsidian_Seal",
					"ORGAN/T-AGO/TIMES/EVE-E/RISKY",
					["the brain is an example of one", "", "", "", "some time ___", "tables to remember", "", "night before", "could end badly"],
					["river mammal", "Risk, Battleship, Taboo, etc.", "years lived", "not the kind of neighbour you want", "", "", "4 & 1", "", ""],
				],
			];

			var crosswordNumber = Math.floor(Math.random() * crosswords.length);

			const query = window.location.search;
			const item = new URLSearchParams(query);
			var puzzleNumber = item.get("puzzle");

			if (/^\d+$/.test(puzzleNumber)) {
				puzzleNumber = parseInt(puzzleNumber);
				if (puzzleNumber < crosswords.length) crosswordNumber = parseInt(puzzleNumber);
				else window.location.href = "?puzzle=" + crosswordNumber;
			} else window.location.href = "?puzzle=" + crosswordNumber;

			document.querySelector("title").innerHTML = `&ldquo;${crosswords[crosswordNumber][0]}&rdquo; by ${crosswords[crosswordNumber][1]}`;

			const crosswordArray = crosswords[crosswordNumber][2].split("/");
			const crosswordWidth = crosswordArray[0].length;
			const crosswordHeight = crosswordArray.length;
			for (let i = 0; i < crosswordHeight; i++) crosswordArray[i] = crosswordArray[i].split("");

			document.querySelector("h1 span").innerHTML = crosswords[crosswordNumber][0];
			document.querySelector("h2 span").innerHTML = crosswords[crosswordNumber][1];

			for (let i = 0; i < crosswords.length; i++) {
				let crosswordArray = crosswords[i][2].split("/");
				let crosswordWidth = crosswordArray[0].length;
				let crosswordHeight = crosswordArray.length;

				let puzzleListItemElement = document.createElement("div");
				puzzleListItemElement.innerHTML = crosswords[i][0];

				let infoElement = document.createElement("div");
				infoElement.innerHTML = `${crosswords[i][1]}<span class="material-symbols-outlined filled circle">circle</span>${crosswordWidth}<span class="material-symbols-outlined filled x">close</span>${crosswordHeight}`;
				puzzleListItemElement.appendChild(infoElement);

				choosePuzzleMenuElement.appendChild(puzzleListItemElement);

				puzzleListItemElement.addEventListener("click", (e) => {
					setTimeout(() => {
						window.location.href = "?puzzle=" + i;
					}, 500);
				});
			}

			function toggleVisibility(element) {
				if (element.classList.contains("show")) {
					element.classList.remove("show");
					element.classList.add("hide");
					return;
				}
				if (element.classList.contains("hide")) {
					element.classList.remove("hide");
					element.classList.add("show");
					return;
				}
			}

			menuArrowElement.addEventListener("click", (e) => {
				toggleVisibility(choosePuzzleMenuElement);
				if (choosePuzzleMenuElement.classList.contains("show")) menuArrowElement.innerHTML = "arrow_drop_up";
				if (choosePuzzleMenuElement.classList.contains("hide")) menuArrowElement.innerHTML = "arrow_drop_down";
			});

			document.addEventListener("click", (e) => {
				// hopefully this is good
				if (e.target != menuArrowElement && e.target != choosePuzzleMenuElement) {
					if (choosePuzzleMenuElement.classList.contains("show")) {
						choosePuzzleMenuElement.classList.remove("show");
						choosePuzzleMenuElement.classList.add("hide");

						menuArrowElement.innerHTML = "arrow_drop_down";
					}
				}
			});

			for (let i = 0; i < crosswordHeight; i++) {
				let rowElement = document.createElement("div");
				rowElement.classList.add("row");

				for (let j = 0; j < crosswordWidth; j++) {
					let squareElement = document.createElement("div");
					squareElement.classList.add("square");
					squareElement.appendChild(document.createElement("div"));

					let letter = crosswordArray[i][j];
					if (letter == "-") squareElement.classList.add("void");
					// else squareElement.children[0].innerHTML = letter;

					rowElement.append(squareElement);
				}

				document.querySelector(".crossword").appendChild(rowElement);
			}

			var numberCount = 0;
			var acrossWordNumbers = [];
			var downWordNumbers = [];
			var acrossWordNumbersNoBlank = [];
			var downWordNumbersNoBlank = [];

			for (let i = 0; i < crosswordHeight; i++) {
				for (let j = 0; j < crosswordWidth; j++) {
					let squareElement = document.querySelector(`.row:nth-child(${i + 1}) .square:nth-child(${j + 1})`);
					squareElement.id = `s${i}-${j}`;

					if (crosswordArray[i][j] == "-") continue;

					var upVoid = false;
					var leftVoid = false;
					var downVoid = false;
					var rightVoid = false;

					if (i == 0) upVoid = true;
					else if (crosswordArray[i - 1][j] == "-") upVoid = true;

					if (j == 0) leftVoid = true;
					else if (crosswordArray[i][j - 1] == "-") leftVoid = true;

					if (i == crosswordHeight - 1) downVoid = true;
					else if (crosswordArray[i + 1][j] == "-") downVoid = true;

					if (j == crosswordWidth - 1) rightVoid = true;
					else if (crosswordArray[i][j + 1] == "-") rightVoid = true;

					if ((leftVoid && !rightVoid) || (upVoid && !downVoid)) {
						let numberElement = document.createElement("span");
						numberElement.innerHTML = ++numberCount;
						squareElement.appendChild(numberElement);

						if (leftVoid && !rightVoid) {
							acrossWordNumbers.push(`s${i}-${j}`);
							acrossWordNumbersNoBlank.push(numberCount);
						} else acrossWordNumbers.push("");
						if (upVoid && !downVoid) {
							downWordNumbers.push(`s${i}-${j}`);
							downWordNumbersNoBlank.push(numberCount);
						} else downWordNumbers.push("");
					}
				}
			}

			function createClueElement(number, text, container) {
				let clueElement = document.createElement("div");
				clueElement.classList.add("clue");

				let numberElement = document.createElement("div");
				numberElement.innerHTML = number;

				let clueTextElement = document.createElement("div");
				clueTextElement.innerHTML = text;

				clueElement.appendChild(numberElement);
				clueElement.appendChild(clueTextElement);

				container.appendChild(clueElement);
			}

			for (let i = 0; i < crosswords[crosswordNumber][3].length; i++) {
				if (crosswords[crosswordNumber][3][i] != "") createClueElement(i + 1, crosswords[crosswordNumber][3][i], acrossCluesContainerElement);
			}

			for (let i = 0; i < crosswords[crosswordNumber][4].length; i++) {
				if (crosswords[crosswordNumber][4][i] != "") createClueElement(i + 1, crosswords[crosswordNumber][4][i], downCluesContainerElement);
			}

			// --- 2. timer ---

			var minutes = 0;
			var seconds = 0;
			var pad = "0";
			var pause = false;

			const menuPositionCheck = setInterval(() => {
				const menuArrowRect = menuArrowElement.getBoundingClientRect();

				if (menuArrowRect.width < 100) {
					if (menuArrowRect.left > 550) choosePuzzleMenuElement.style = "right: 0";
					else choosePuzzleMenuElement.style = `left: ${Math.round(menuArrowRect.left) - 42}px`;

					loadingPanelElement.remove();
					document.querySelector("#styles-to-remove-2").remove();

					setInterval(() => {
						if (!pause) {
							seconds++;
							if (seconds == 60) {
								seconds = 0;
								minutes++;

								timerContainerElement.style = `width: ${92 + 18 * minutes.toString().length}px`;
							}
							if (seconds < 10) pad = "0";
							else pad = "";
							timerElement.innerHTML = `${minutes}:${pad}${seconds}`;
						}
					}, 1000);

					clearInterval(menuPositionCheck);
				}
			}, 10);

			// --- 3. word highlighting & keyboard input ---

			var direction = true;
			var wordNumber = -1;
			var firstWord = true;
			var activeX = -1;
			var activeY = 0;

			function nextWordNumber() {
				if (direction) {
					wordNumber++;
					while (acrossWordNumbers[wordNumber] == "") wordNumber++;
					if (wordNumber >= acrossWordNumbers.length) {
						direction = !direction;
						wordNumber = 0;
						while (downWordNumbers[wordNumber] == "") wordNumber++;
					}
				} else {
					wordNumber++;
					while (downWordNumbers[wordNumber] == "") wordNumber++;
					if (wordNumber >= downWordNumbers.length) {
						direction = !direction;
						wordNumber = 0;
						while (acrossWordNumbers[wordNumber] == "") wordNumber++;
					}
				}

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeY++;
							if (activeY == crosswordWidth) {
								activeY = y;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeY = y;
								break;
							}
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeX++;
							if (activeX == crosswordHeight) {
								activeX = x;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeX = x;
								break;
							}
						} else break;
					}
				}
			}

			function previousWordNumber() {
				if (direction) {
					wordNumber--;
					while (acrossWordNumbers[wordNumber] == "") wordNumber--;
					if (wordNumber < 0) {
						direction = !direction;
						wordNumber = downWordNumbers.length - 1;
						while (downWordNumbers[wordNumber] == "") wordNumber--;
					}
				} else {
					wordNumber--;
					while (downWordNumbers[wordNumber] == "") wordNumber--;
					if (wordNumber < 0) {
						direction = !direction;
						wordNumber = acrossWordNumbers.length - 1;
						while (acrossWordNumbers[wordNumber] == "") wordNumber--;
					}
				}

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeY++;
							if (activeY == crosswordWidth) {
								activeY = y;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeY = y;
								break;
							}
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeX++;
							if (activeX == crosswordHeight) {
								activeX = x;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeX = x;
								break;
							}
						} else break;
					}
				}
			}

			nextWordNumber();

			function highlightWordSquares() {
				document.querySelectorAll(".active-word-square").forEach((square) => {
					square.classList.remove("active-word-square");
				});
				document.querySelectorAll(".active-square").forEach((square) => {
					square.classList.remove("active-square");
				});
				document.querySelectorAll(".active-clue").forEach((clue) => {
					clue.classList.remove("active-clue");
				});
				document.querySelectorAll(".active-clue-opposite").forEach((clue) => {
					clue.classList.remove("active-clue-opposite");
				});

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));

					while (y < crosswordWidth) {
						let element = document.querySelector(`#s${x}-${y++}`);

						if (!element.classList.contains("void")) {
							element.classList.add("active-word-square");
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));

					while (x < crosswordHeight) {
						let element = document.querySelector(`#s${x++}-${y}`);

						if (!element.classList.contains("void")) {
							element.classList.add("active-word-square");
						} else break;
					}
				}

				let element = document.querySelector(`#s${activeX}-${activeY}`);
				element.classList.add("active-square");

				let oppositeWordNumber;

				if (direction) {
					var upVoid = false;
					var downVoid = false;

					if (activeX == 0) upVoid = true;
					else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

					if (activeX == crosswordHeight - 1) downVoid = true;
					else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

					if (!(upVoid && downVoid)) {
						direction = !direction;
						oppositeWordNumber = getWordNumber();
						direction = !direction;
					}
				} else {
					var leftVoid = false;
					var rightVoid = false;

					if (activeY == 0) leftVoid = true;
					else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

					if (activeY == crosswordWidth - 1) rightVoid = true;
					else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

					if (!(leftVoid && rightVoid)) {
						direction = !direction;
						oppositeWordNumber = getWordNumber();
						direction = !direction;
					}
				}

				let clueElement;
				if (direction) clueElement = acrossCluesContainerElement.children[acrossWordNumbersNoBlank.indexOf(wordNumber + 1)];
				else clueElement = downCluesContainerElement.children[downWordNumbersNoBlank.indexOf(wordNumber + 1)];
				clueElement.classList.add("active-clue");

				if (direction) {
					let containerRect = acrossCluesContainerElement.getBoundingClientRect();
					let elementRect = clueElement.getBoundingClientRect();

					acrossCluesContainerElement.scrollBy(0, elementRect.top - (containerRect.top + 7));
				} else {
					let containerRect = downCluesContainerElement.getBoundingClientRect();
					let elementRect = clueElement.getBoundingClientRect();

					downCluesContainerElement.scrollBy(0, elementRect.top - (containerRect.top + 7));
				}

				let oppositeClueElement;
				if (direction) oppositeClueElement = downCluesContainerElement.children[downWordNumbersNoBlank.indexOf(oppositeWordNumber + 1)];
				else oppositeClueElement = acrossCluesContainerElement.children[acrossWordNumbersNoBlank.indexOf(oppositeWordNumber + 1)];

				if (oppositeClueElement != null) {
					oppositeClueElement.classList.add("active-clue-opposite");

					if (firstWord) {
						firstWord = false;

						const clueElementHeightCheck = setInterval(() => {
							if (document.querySelector(".active-clue div").getBoundingClientRect().height == 21) {
								if (direction) {
									let containerRectTop = acrossCluesContainerElement.getBoundingClientRect().top;
									let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

									downCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
								} else {
									let containerRectTop = downCluesContainerElement.getBoundingClientRect().top;
									let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

									acrossCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
								}

								clearInterval(clueElementHeightCheck);
							}
						}, 10);
					} else {
						if (direction) {
							let containerRectTop = acrossCluesContainerElement.getBoundingClientRect().top;
							let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

							downCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
						} else {
							let containerRectTop = downCluesContainerElement.getBoundingClientRect().top;
							let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

							acrossCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
						}
					}
				}
			}

			highlightWordSquares();

			function getWordNumber() {
				let x = activeX;
				let y = activeY;

				if (direction) {
					while (true) {
						if (y == 0) {
							let element = document.querySelector(`#s${x}-${y}`);
							if (element.children.length > 1) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							}
						}

						let element = document.querySelector(`#s${x}-${--y}`);
						if (element.classList.contains("void")) {
							element = document.querySelector(`#s${x}-${++y}`);
							return parseInt(element.children[1].innerHTML) - 1;
							break;
						}

						if (element.children.length > 1) {
							if (y == 0) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							} else {
								if (document.querySelector(`#s${x}-${--y}`).classList.contains("void")) {
									return parseInt(element.children[1].innerHTML) - 1;
									break;
								}
							}
						}
					}
				} else {
					while (true) {
						if (x == 0) {
							let element = document.querySelector(`#s${x}-${y}`);
							if (element.children.length > 1) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							}
						}

						let element = document.querySelector(`#s${--x}-${y}`);
						if (element.classList.contains("void")) {
							element = document.querySelector(`#s${++x}-${y}`);
							return parseInt(element.children[1].innerHTML) - 1;
							break;
						}

						if (element.children.length > 1) {
							if (x == 0) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							} else {
								if (document.querySelector(`#s${--x}-${y}`).classList.contains("void")) {
									return parseInt(element.children[1].innerHTML) - 1;
									break;
								}
							}
						}
					}
				}
			}

			function checkForWin() {
				let crosswordString = "";

				for (let i = 0; i < crosswordHeight; i++) {
					for (let j = 0; j < crosswordWidth; j++) {
						if (document.querySelector(`#s${i}-${j}`).classList.contains("void")) {
							crosswordString += "-";
						} else {
							let letter = document.querySelector(`#s${i}-${j} div`).innerHTML;
							if (letter == "") crosswordString += "x";
							else crosswordString += letter;
						}
					}
					if (i < crosswordHeight - 1) crosswordString += "/";
				}

				if (crosswordString == crosswords[crosswordNumber][2]) handleWin();
			}

			var win = false;

			function handleWin() {
				win = true;
				pause = true;
				document.querySelector("h4 span").innerHTML = `${minutes}:${pad}${seconds}`;

				document.querySelector("#styles-to-remove").remove();

				setTimeout(() => {
					document.querySelector(".crossword-container").classList.add("blur");
					toggleVisibility(document.querySelector(".win-panel"));
					pauseButtonElement.innerHTML = "done";
				}, 1000);
			}

			function share() {
				navigator.clipboard.writeText(
					`--------------------\nI solved “${crosswords[crosswordNumber][0]}” by ${crosswords[crosswordNumber][1]} in **${minutes}:${pad}${seconds}**!\nhttps://pinniped.page/projects/crosswords?puzzle=${crosswordNumber}`
				);

				let savedHTML = shareButtonElement.innerHTML;
				shareButtonElement.innerHTML = "Copied!";

				setTimeout(() => {
					shareButtonElement.innerHTML = savedHTML;
				}, 3000);
			}

			function close() {
				if (!document.querySelector(".crossword-container").classList.contains("blur")) {
					document.querySelector(".crossword-container").classList.add("blur");
				} else {
					document.querySelector(".crossword-container").classList.remove("blur");
				}
				toggleVisibility(document.querySelector(".win-panel"));
			}

			shareButtonElement.addEventListener("click", (e) => {
				share();
			});

			closeButtonElement.addEventListener("click", (e) => {
				close();
			});

			var keys = {};

			document.addEventListener("keydown", (e) => {
				keys[e.key] = true;

				if (e.key == "Escape") {
					if (!win) togglePause();
					else {
						if (!document.querySelector(".crossword-container").classList.contains("blur")) {
							document.querySelector(".crossword-container").classList.add("blur");
						} else {
							document.querySelector(".crossword-container").classList.remove("blur");
						}
						toggleVisibility(document.querySelector(".win-panel"));
					}
				}

				if (!pause) {
					// A - Z
					if (e.keyCode >= 65 && e.keyCode <= 90) {
						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";
						activeElement.innerHTML = e.key.toUpperCase();

						if (direction) {
							if (activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;

								while (true) {
									let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

									if (letter != "") {
										if (activeY + 1 == crosswordWidth) break;
										else if (document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) break;
										activeY++;
									} else break;
								}
							}
						} else {
							if (activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;

								while (true) {
									let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

									if (letter != "") {
										if (activeX + 1 == crosswordHeight) break;
										else if (document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) break;
										activeX++;
									} else break;
								}
							}
						}

						highlightWordSquares();
						checkForWin();
					}

					// space
					if (e.key == " ") {
						direction = !direction;

						if (direction) {
							var leftVoid = false;
							var rightVoid = false;

							if (activeY == 0) leftVoid = true;
							else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

							if (activeY == crosswordWidth - 1) rightVoid = true;
							else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

							if (leftVoid && rightVoid) direction = !direction;
						} else {
							var upVoid = false;
							var downVoid = false;

							if (activeX == 0) upVoid = true;
							else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

							if (activeX == crosswordHeight - 1) downVoid = true;
							else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

							if (upVoid && downVoid) direction = !direction;
						}

						wordNumber = getWordNumber();

						highlightWordSquares();
					}

					// arrow keys
					if (e.keyCode >= 37 && e.keyCode <= 40) {
						e.preventDefault();

						if (direction) {
							if (e.keyCode == 37 && activeY > 0) {
								if (!document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void")) activeY--;
							}
							if (e.keyCode == 38 && activeX > 0) {
								if (!document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void")) activeX--;
								direction = !direction;

								var upVoid = false;
								var downVoid = false;

								if (activeX == 0) upVoid = true;
								else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

								if (activeX == crosswordHeight - 1) downVoid = true;
								else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

								if (upVoid && downVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 39 && activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;
							}
							if (e.keyCode == 40 && activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;
								direction = !direction;

								var upVoid = false;
								var downVoid = false;

								if (activeX == 0) upVoid = true;
								else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

								if (activeX == crosswordHeight - 1) downVoid = true;
								else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

								if (upVoid && downVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
						} else {
							if (e.keyCode == 37 && activeY > 0) {
								if (!document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void")) activeY--;
								direction = !direction;

								var leftVoid = false;
								var rightVoid = false;

								if (activeY == 0) leftVoid = true;
								else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

								if (activeY == crosswordWidth - 1) rightVoid = true;
								else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

								if (leftVoid && rightVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 38 && activeX > 0) {
								if (!document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void")) activeX--;
							}
							if (e.keyCode == 39 && activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;
								direction = !direction;

								var leftVoid = false;
								var rightVoid = false;

								if (activeY == 0) leftVoid = true;
								else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

								if (activeY == crosswordWidth - 1) rightVoid = true;
								else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

								if (leftVoid && rightVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 40 && activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;
							}
						}

						highlightWordSquares();
					}

					// tab & enter
					if (e.key == "Tab" || e.key == "Enter") {
						if (e.key == "Tab") e.preventDefault();

						if (keys["Shift"]) previousWordNumber();
						else nextWordNumber();

						highlightWordSquares();
					}

					// backspace
					if (e.key == "Backspace") {
						var squareEmpty = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML == "";

						if (direction) {
							if (activeY > 0) {
								var leftVoid = document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void");
								if (squareEmpty && !leftVoid) activeY--;
							}
						} else {
							if (activeX > 0) {
								var upVoid = document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void");
								if (squareEmpty && !upVoid) activeX--;
							}
						}

						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";

						highlightWordSquares();
					}

					// delete (backwards backspace...so...forward space?)
					if (e.key == "Delete") {
						var squareEmpty = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML == "";

						if (direction) {
							if (activeY < crosswordWidth - 1) {
								var rightVoid = document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void");
								if (squareEmpty && !rightVoid) activeY++;
							}
						} else {
							if (activeX < crosswordHeight - 1) {
								var downVoid = document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void");
								if (squareEmpty && !downVoid) activeX++;
							}
						}

						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";

						highlightWordSquares();
					}
				} else {
					if (e.key == "Enter") {
						if (document.activeElement == shareButtonElement) share();
						if (document.activeElement == closeButtonElement) close();
					}
				}
			});

			document.addEventListener("keyup", (e) => {
				delete keys[e.key];
			});

			// --- 4. the mouse ---

			document.querySelectorAll(".square:not(.void)").forEach((openSquare) => {
				openSquare.addEventListener("click", (e) => {
					if (!pause) {
						let separatorIndex = openSquare.id.indexOf("-");
						let x = parseInt(openSquare.id.substring(1, separatorIndex));
						let y = parseInt(openSquare.id.substring(separatorIndex + 1));

						if (x == activeX && y == activeY) direction = !direction;
						else {
							activeX = x;
							activeY = y;
						}

						if (direction) {
							var leftVoid = false;
							var rightVoid = false;

							if (activeY == 0) leftVoid = true;
							else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

							if (activeY == crosswordWidth - 1) rightVoid = true;
							else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

							if (leftVoid && rightVoid) direction = !direction;
						} else {
							var upVoid = false;
							var downVoid = false;

							if (activeX == 0) upVoid = true;
							else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

							if (activeX == crosswordHeight - 1) downVoid = true;
							else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

							if (upVoid && downVoid) direction = !direction;
						}

						wordNumber = getWordNumber();
						highlightWordSquares();
					}
				});
			});

			// --- 5. pause ---

			function togglePause() {
				pause = !pause;

				if (pause) {
					pauseButtonElement.innerHTML = "play_arrow";
					document.querySelector(".crossword-container").classList.add("blur");
				} else {
					pauseButtonElement.innerHTML = "pause";
					document.querySelector(".crossword-container").classList.remove("blur");
				}
			}

			pauseButtonElement.addEventListener("click", (e) => {
				if (!win) togglePause();
			});

			// --- 6. click clues ---
			document.querySelectorAll(".across-clues .clue").forEach((clue) => {
				clue.addEventListener("click", (e) => {
					if (!pause) {
						direction = true;
						wordNumber = parseInt(clue.children[0].innerHTML) - 1;

						let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
						activeX = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
						activeY = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
						let x = activeX;
						let y = activeY;

						if (!clue.classList.contains("active-clue")) {
							while (true) {
								let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

								if (letter != "") {
									activeY++;
									if (activeY == crosswordWidth) {
										activeY = y;
										break;
									} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
										activeY = y;
										break;
									}
								} else break;
							}
						}

						highlightWordSquares();
					}
				});
			});
			document.querySelectorAll(".down-clues .clue").forEach((clue) => {
				clue.addEventListener("click", (e) => {
					if (!pause) {
						direction = false;
						wordNumber = parseInt(clue.children[0].innerHTML) - 1;

						let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
						activeX = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
						activeY = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
						let x = activeX;
						let y = activeY;

						if (!clue.classList.contains("active-clue")) {
							while (true) {
								let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

								if (letter != "") {
									activeX++;
									if (activeX == crosswordWidth) {
										activeX = x;
										break;
									} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
										activeX = x;
										break;
									}
								} else break;
							}
						}

						highlightWordSquares();
					}
				});
			});
		</script>
	</body>
</html>
