<!DOCTYPE html>

<html lang="en">
	<head>
		<title>crosswords</title>

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../images/icon.png" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-25..200" />

		<meta property="og:url" content="https://pinniped.page/projects/crosswords" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="crosswords" />
		<meta property="og:description" content="Solve crosswords by Obsidian_Seal and others, timed and online. " />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<meta name="description" content="Solve crosswords by Obsidian_Seal and others, timed and online. " />
		<meta name="keywords" content="crosswords, puzzles, clues, words, fun, game, timed, share" />

		<style>
			@import url("https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900");

			:root {
				/* Thank you monkeytype (earthsong) */
				--bg: #292521;
				--main: #509452;
				--caret: #1298ba;
				--sub: #f5ae2d;
				--sub-alt: #1d1b18;
				--text: #e6c7a8;
				--error: #7e2a33;
				--error-extra: #ff645a;

				--other: #4b181e;
			}

			::-webkit-scrollbar {
				width: 20px;
				height: 20px;
			}

			::-webkit-scrollbar-thumb {
				background-color: var(--main);
				border: 5px solid var(--bg);
			}

			::-webkit-scrollbar-thumb:hover {
				background-color: var(--sub);
			}

			::-webkit-scrollbar-corner {
				background-color: var(--bg);
			}

			* {
				margin: 0;
				border: 0;
				padding: 0;
				font-family: "Roboto Slab";
				outline: none;
			}

			*::selection {
				background-color: var(--sub-alt);
			}

			body {
				margin: 20px;
				border: 2px solid var(--main);
				padding: 20px;

				background-color: var(--bg);
				min-height: calc(100vh - 84px);
			}

			h1,
			h2 {
				color: var(--main);
				width: fit-content;
			}

			h1 {
				font-size: 72px;
				font-weight: 700;
				position: relative;
			}

			h2 {
				font-size: 36px;
				font-weight: 500;

				margin-bottom: 50px;
			}

			h2 span {
				color: var(--sub);
			}

			h3,
			h4,
			h5 {
				color: var(--caret);
			}

			h3 {
				font-size: 36px;
				font-weight: 500;

				margin-bottom: 20px;
			}

			h4,
			h5 {
				font-size: 24px;
			}

			h4 {
				font-weight: 300;
				margin-bottom: 50px;
			}

			h4 span {
				background-color: var(--sub-alt);
				font-weight: 500;
			}

			h5 {
				font-weight: 700;
				width: fit-content;
			}

			h5:hover,
			h5:focus {
				color: var(--sub);
				cursor: pointer;
			}

			h5 .material-symbols-outlined {
				translate: 0 3px;
			}

			.material-symbols-outlined {
				font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
			}

			.filled {
				font-variation-settings: "FILL" 1, "wght" 400, "GRAD" 0, "opsz" 24;
			}

			h1 .material-symbols-outlined:not(.circle, .x) {
				font-size: 72px;
				translate: 0 10px;
			}

			h1 .material-symbols-outlined:not(.circle, .x):hover,
			h1 .material-symbols-outlined:not(.circle, .x):focus {
				cursor: pointer;
				color: var(--sub);
			}

			.circle {
				font-size: 6px;
				translate: 0 -3px;
				margin: 0 10px;
			}

			.x {
				font-size: 16px;
				translate: 0 2px;
			}

			.choose-puzzle-menu {
				width: 545px;
				height: 395px;

				position: absolute;
				top: 100px;

				background-color: var(--bg);
				border: 2px solid var(--sub-alt);
				padding: 0;

				z-index: 1;
				overflow-y: auto;
			}

			.choose-puzzle-menu div {
				font-size: 32px;
				font-weight: 500;
				padding: 5px 0 10px 10px;
				color: var(--main);
			}

			.choose-puzzle-menu div:hover,
			.choose-puzzle-menu div:focus {
				cursor: pointer;
				background-color: var(--sub-alt);
			}

			.choose-puzzle-menu div div {
				font-size: 16px;
				font-weight: 300;
				padding: 0;

				color: var(--text);
			}

			.timer {
				font-size: 32px;
				font-weight: 300;

				position: absolute;
				top: 50px;
				right: 80px;

				width: 110px;
				display: flex;
				justify-content: space-between;

				color: var(--caret);
			}

			.pause-button {
				font-size: 32px;
				translate: 0 7px;
			}

			h5,
			.choose-puzzle-menu,
			.material-symbols-outlined,
			.timer,
			.crossword,
			.loading-panel div:not(#version),
			.blur * {
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			.crossword-container {
				display: flex;
				justify-content: center;
				gap: 40px;
			}

			.crossword {
				width: fit-content;
			}

			.row {
				display: flex;
				width: fit-content;
			}

			.square {
				width: 50px;
				height: 40px;

				border-top: 2px solid var(--sub-alt);
				border-left: 2px solid var(--sub-alt);

				display: flex;
				align-items: center;
				justify-content: center;

				font-size: 36px;
				font-weight: 500;
				padding-top: 10px;

				color: var(--text);
				background-color: var(--bg);

				position: relative;
			}

			.square:last-child {
				border-right: 2px solid var(--sub-alt);
			}

			.row:last-child .square {
				border-bottom: 2px solid var(--sub-alt);
			}

			.void {
				background-color: var(--sub-alt);
			}

			.square span {
				font-size: 12px;
				font-weight: 300;

				position: absolute;
				top: 0;
				left: 5px;
			}

			.active-word-square {
				background-color: var(--other);
			}

			.active-square {
				background-color: var(--error);
			}

			.clues-container {
				border: 2px solid var(--sub-alt);
				color: var(--text);
				width: 502px;
				height: fit-content;
				display: flex;
				background-color: var(--bg);
			}

			.across-clues,
			.down-clues {
				width: 50%;
			}

			.across-clues {
				border-right: 2px solid var(--sub-alt);
			}

			.clues-title {
				font-size: 32px;
				font-weight: 500;
				padding: 5px 0 5px 10px;
				border-bottom: 2px solid var(--sub-alt);
			}

			.clues {
				height: 100%;
				overflow: auto;
				max-height: 450px;
				padding: 7px 0 13px;
			}

			.clue {
				padding: 3px 10px 7px 0;
				display: grid;
				grid-template-columns: 30px auto;
				gap: 10px;
			}

			.clue.active-clue-opposite {
				background-color: var(--other);
			}

			.clue.active-clue {
				background-color: var(--error);
			}

			.clue div:first-child {
				font-weight: 700;
				text-align: right;
			}

			.win-panel {
				position: absolute;
				top: 200px;
				left: calc((100vw - 504px) / 2);

				border: 2px solid var(--sub-alt);
				background-color: var(--bg);
				width: 460px;
				height: 260px;
				padding: 20px 0 20px 40px;
			}

			.close-button {
				position: absolute;
				top: 20px;
				right: 20px;
				color: var(--caret);
			}

			.close-button:hover,
			.close-button:focus {
				color: var(--sub);
				cursor: pointer;
			}

			.loading-panel {
				position: absolute;
				top: 0;
				left: 0;

				width: 100%;
				height: 100%;

				display: flex;
				align-items: center;
				justify-content: center;
				flex-direction: column;

				background-color: var(--sub-alt);
				color: var(--text);
			}

			.loading-panel div:first-child {
				font-size: 108px;
				font-weight: 500;
			}

			.loading-panel div#version,
			.loading-panel div#load-error {
				margin-top: 20px;
				font-size: 24px;
				font-weight: 300;
			}

			.loading-panel div#version::selection {
				background-color: var(--bg);
			}

			.loading-panel div#load-error:hover,
			.loading-panel div#load-error:focus {
				cursor: pointer;
				color: var(--error-extra);
			}

			.show {
				display: initial;
			}

			.hide {
				display: none;
			}

			.blur {
				filter: blur(5px);
			}

			#d1,
			#d2,
			#d3 {
				opacity: 0%;
			}

			#d1 {
				animation: d1 2.5s infinite 0.5s;
			}

			#d2 {
				animation: d2 2.5s infinite 0.5s;
			}

			#d3 {
				animation: d3 2.5s infinite 0.5s;
			}

			@keyframes d1 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 100%;
				}
				40% {
					opacity: 100%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}

			@keyframes d2 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 0%;
				}
				40% {
					opacity: 100%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}

			@keyframes d3 {
				0% {
					opacity: 0%;
				}
				20% {
					opacity: 0%;
				}
				40% {
					opacity: 0%;
				}
				60% {
					opacity: 100%;
				}
				80% {
					opacity: 100%;
				}
				100% {
					opacity: 0%;
				}
			}
		</style>

		<style id="styles-to-remove">
			.pause-button:hover {
				color: var(--sub);
				cursor: pointer;
			}

			.square:not(.void):hover {
				cursor: pointer;
			}

			.clue:hover {
				cursor: pointer;
			}
		</style>

		<style id="styles-to-remove-2">
			body {
				overflow: hidden;
			}
		</style>
	</head>

	<body>
		<h1>
			&ldquo;<span class="puzzle-title"></span>&rdquo; <span class="material-symbols-outlined">arrow_drop_down</span>
			<div class="choose-puzzle-menu hide"></div>
		</h1>
		<h2>by <span></span></h2>
		<div class="timer"><span>0:00</span> <span class="material-symbols-outlined filled pause-button">pause</span></div>

		<div class="crossword-container">
			<div class="crossword"></div>
			<div class="clues-container">
				<div class="across-clues">
					<div class="clues-title">ACROSS</div>
					<div class="clues"></div>
				</div>
				<div class="down-clues">
					<div class="clues-title">DOWN</div>
					<div class="clues"></div>
				</div>
			</div>
		</div>

		<div class="win-panel hide">
			<div>
				<h3>default_win_message</h3>
				<h4>You solved the puzzle in <span>unknown</span>.</h4>
				<h5 tabindex="0">SHARE <span class="material-symbols-outlined">share</span></h5>
				<span class="material-symbols-outlined close-button" tabindex="0">close</span>
			</div>
		</div>

		<div class="loading-panel">
			<div>Loading<d id="d1">.</d><d id="d2">.</d><d id="d3">.</d></div>
			<div id="version"></div>
			<div id="load-error" tabindex="0">Internet-unrelated loading issue?</div>
		</div>

		<script>
			// VERSION 1.6.0 (change all these when updating)
			console.log("%ccrosswords v1.6.0 (2024/08/22)", "background: #4CAF50; color: #111; padding: 0 5px; border-radius: 10px");
			document.querySelector(".loading-panel div#version").innerHTML = "v1.6.0 — 2024/08/22";

			document.querySelector("#load-error").addEventListener("keydown", (e) => {
				if (e.key == "Enter") {
					window.location.href = "../status.html";
				}
			});

			// --- 0. element constants ---

			const choosePuzzleMenuElement = document.querySelector(".choose-puzzle-menu");
			const menuArrowElement = document.querySelector("h1 .material-symbols-outlined");
			const timerContainerElement = document.querySelector(".timer");
			const timerElement = document.querySelector(".timer span");
			const pauseButtonElement = document.querySelector(".pause-button");
			const acrossCluesContainerElement = document.querySelector(".across-clues .clues");
			const downCluesContainerElement = document.querySelector(".down-clues .clues");
			const shareButtonElement = document.querySelector("h5");
			const closeButtonElement = document.querySelector(".close-button");
			const loadingPanelElement = document.querySelector(".loading-panel");

			// --- 1. load crossword & word numbers; set title, subtitle, and menu ---

			const crosswords = [
				[
					"Crossword",
					"Obsidian_Seal",
					"OATS-CATS----M--M----T-C/M----H-H--H--OCTOPUS-U-A/EACH-I-I--AT-U--O-NUMBER/G----L-N-AMOUNT-N-IN---T/A-LOUD---P-U-T----N-C---/--E----TAP-C-ANIMATIONS-/SEA--S---L-H-I--A-E-I-ON/I-PORTABLE---N--RUN-NONE/GO-R-O-L-S-BUSSES-D-S--T/N--APP-UP--U--E---E---I-/A--N---E-EGGPLANT-DEALS-/LARGER----O-O-L-R----I-K/-R-E-ART-SALT-SLEEP--MEN/AGE--C--O-T-A---E-U--E-I/-O--FEE-RESET-ENSURE---G/-N-T-C---A--O-A---E-S--H/---W-ANT-T----REST-NIGHT/ARMOUR-O--STARS-O-POT-I-",
					[
						"cereal grain",
						"common pet",
						"",
						"",
						"",
						"",
						"",
						"",
						"sea creature with eight limbs",
						"",
						"",
						"&ldquo;to ____ their own&rdquo;",
						"&ldquo;see you __ two o&rsquo;clock&rdquo;",
						"",
						"eight, for example",
						"a quantity of something",
						"&ldquo;be there __ a second&rdquo;",
						"opposite of quiet",
						"",
						"fastest way to pay with a credit card",
						"&ldquo;stop-motion __________&rdquo;",
						"",
						"",
						"the mediterranean, for example",
						"",
						"&ldquo;put it __ your calendar&rdquo;",
						"",
						"if it can be taken everywhere",
						"",
						"",
						"rhymes with 11-down",
						"&ldquo;there are ____ left&rdquo;",
						"opposite of 25-down",
						"public transit vehicles",
						"",
						"a program on a cellphone",
						"opposite of down",
						"",
						"purple vegetable",
						"",
						"",
						"",
						"things advertised in flyers",
						"",
						"word between large and largest",
						"",
						"",
						"",
						"most common type of gallery",
						"goes with pepper",
						"what most people do at night",
						"",
						"man, plural",
						"&ldquo;during the last ice ___&rdquo;",
						"",
						"something you pay",
						"set back to its original state",
						"",
						"make certain something shall occur",
						"",
						"",
						"tiny insect in a colony",
						"",
						"not quite sleep",
						"",
						"when 5-down is in the sky",
						"",
						"what 48-down often wear",
						"sources of light in outer space",
						"something you cook food in",
					],
					[
						"last letter in the greek alphabet",
						"synonym of kid",
						"opposite of thick",
						"what you ski down",
						"earth&rsquo;s satellite",
						"what you would take a bath in",
						"what you push around at a store",
						"meat often used in sandwiches",
						"",
						"&ldquo;__________ consequences&rdquo;",
						"the closest of the 69-across ",
						"",
						"",
						"one of the five senses",
						"",
						"fruit that comes from a tree",
						"",
						"synonym of jump",
						"metal money",
						"",
						"",
						"the red planet",
						"one letter different from 11-down",
						"&ldquo;go on my ______&rdquo;",
						"opposite of 33-across",
						"",
						"what you throw basketballs in",
						"",
						"a colour and a fruit",
						"the colour of the sky",
						"",
						"",
						"",
						"62-across, for example",
						"the best pinnipeds",
						"",
						"",
						"&ldquo;the answer to 35-down __ seals&rdquo;",
						"",
						"animals most known for their screaming",
						"food used to make french fries ",
						"the tallest plants",
						"",
						"bright green as a colour and food",
						"",
						"the eighteenth element",
						"palindromic vehicle",
						"&ldquo;______ in shining armour&rdquo;",
						"",
						"",
						"",
						"free of any contamination",
						"",
						"",
						"&ldquo;this __ that&rdquo;",
						"",
						"",
						"what you do at a restaurant",
						"organs for hearing",
						"number after one",
						"what you do on a chair",
						"",
						"last two letters in 41-down",
						"",
						"first two letters in 23-down",
						"opposite of yes",
						"informal greeting",
						"",
						"",
						"",
					],
					"Tuesday, July 12th, 2022",
				],
				[
					"crossword2",
					"Obsidian_Seal",
					"ADJECTIVE-BAMBOOZLE-BUS-W-/--U--I-I-TIN--M-E---A-O-ON/DIRT-MEET-D--KEYBOARD-NONE/U-Y--E-WONDER-G-R--O-Y---V/M--GO--SO-I---A-ADAPTED-HE/POP--L----N-B---SITE-S-HER/S-LOLLYGAGGER-HI-A----B-N-/--A--A------O-I--MONSTER--/PANDEMONIUM-CITY-O-U-----K/L-E-DARE--A-C--A-N-M--T--I/AM--I--TO-REOPENED-BOXES-D/I-A-TONS--C-L--K-S-E-YEARS/NOPE-----CHAIR--E--R-L-R--/--P-HAIR-H-R-I--A---TORCH-/A-L--R-O-ANT-SEARCH--P-O-I/SLED-CHOIR-H-E---R---H-POT/S-S--H-S-TYRANT-POTATO-H--/A---T--T-S-O--O--S---N-A-S/SNAKES-E---POOLS-S-AGE-GOO/S--NATURAL-O-AD-AWE----U-D/IN-ERR---E-DOT---O--BUGS--/N--E-A-T-G---SCARRED-----G/-----NEURAL----N-D-O-BOB-O/-BLING-R-L--SLUGS--N-E-E-L/-O---E-NO---P--E---EMERALD/AWKWARD-K-DEAL-ROAD-Y--R--",
					[
						"describes a noun",
						"",
						"",
						"",
						"to fool someone",
						"",
						"",
						"",
						"mass transit vehicle",
						"",
						"",
						"both a metal and a container",
						"preposition",
						"",
						"below the grass",
						"Google&rsquo;s video call platform",
						"",
						"what you type on",
						"",
						"opposite of &ldquo;all&rdquo;",
						"synonym of &ldquo;awe&rdquo;",
						"",
						"word that starts a race",
						"adverb, conjunction, conclusion",
						"what creatures did to evolve",
						"",
						"",
						"male pronoun",
						"grandfather, informal, as well as a sound",
						"",
						"",
						"",
						"an area",
						"female pronoun",
						"someone who is always behind",
						"informal greeting",
						"",
						"energy drink; scary creature ",
						"",
						"complete disorder and chaos",
						"",
						"",
						"",
						"",
						"larger than a town",
						"",
						"",
						"challenge someone to do something",
						"",
						"to be, personally",
						"preposition that tells where a motion will lead",
						"a criminal case, when new evidence appears",
						"containers often made of cardboard",
						"",
						"",
						"",
						"lots; unit of weight for very heavy things",
						"a decade consists of ten",
						"disagreement, informal",
						"four-legged seat",
						"",
						"",
						"",
						"covers your scalp",
						"",
						"",
						"what the British call a flashlight",
						"",
						"insect",
						"to look for something",
						"",
						"",
						"what you go down a hill on in the winter",
						"group of singers",
						"goes on a stove",
						"cruel leader",
						"",
						"spud",
						"",
						"",
						"slithering creatures",
						"",
						"",
						"backyard bodies of water",
						"",
						"the number of years you've been alive",
						"sticky or slimy substance",
						"something caused or created by nature",
						"",
						"a TV commercial, for example",
						"synonym of &ldquo;wonder&rdquo;",
						"to be enclosed or surrounded by something",
						"to make a mistake",
						"a small circle",
						"insects",
						"",
						"to get a scar",
						"",
						"",
						"",
						"related to the nervous system",
						"bounce in water",
						"",
						"jewelry, informal",
						"slimy, slow-moving creatures",
						" opposite of &ldquo;yes&rdquo;",
						"",
						"green gemstone",
						"",
						"type of situation that causes embarrassment",
						"distribute cards",
						"what you drive on",
					],
					[
						"",
						"group that makes the final decision in court",
						"what the clock tells you ",
						"YouTube statistic",
						"what you're doing at an auction",
						"penultimate word in the previous clue",
						"last letter of the Greek alphabet",
						"animals found in Africa",
						"not good",
						"male child",
						"homophone of &ldquo;one&rdquo;",
						"",
						"",
						"opposite of &ldquo;always&rdquo;",
						"landfills",
						"",
						"homophone of &ldquo;two&rdquo;",
						"",
						"very thick string",
						"",
						"",
						"agreement",
						"",
						"",
						"",
						"the hardest mineral, plural",
						"word used when telling people the time to come",
						"female bird",
						"",
						"air vehicle",
						"similar in appearance to alpacas",
						"vegetable that looks like a tree",
						"",
						"",
						"",
						"come into contact with something forcefully",
						"to exist",
						"",
						"pi, for example",
						"something that is ordinary, usual, or default",
						"make changes to",
						"logic statement that allows for either option",
						"butterfly catching devices",
						"walk in rhythm; a month",
						"",
						"pull forcefully and suddenly",
						"children",
						"",
						"what you put the golf ball on top of",
						"",
						"",
						"",
						"",
						"musical instrument",
						"what a mummy goes in",
						"fruits",
						"",
						"",
						"",
						"synonym of &ldquo;maps&rdquo;",
						"type of invertebrate",
						"what most baked goods have done",
						"you hear through it",
						"",
						"type of bridge",
						"farm animal that wakes you up",
						"",
						"someone sent to kill someone",
						"",
						"",
						"this puzzle",
						"inanimate object pronoun",
						"",
						"",
						"",
						"",
						"to have informed someone of something",
						"",
						"rip",
						"new grass",
						"",
						"largest joint in the human body",
						"someone you don&rsquo;t know",
						"",
						"cereal grains",
						"",
						"",
						"",
						"something permitted by law",
						"",
						"",
						"",
						"",
						"",
						"",
						"to rotate",
						"",
						"emotion associated with the colour red",
						"to be finished",
						"valuable metal kept in bar form",
						"",
						"honey-making insect",
						"big animal found in forests; to endure something",
						"what an archer uses",
						"beauty and health treatment facility",
						"",
						"approval, acceptance, agreement",
						"",
						"word used when referring to something of yours",
						"",
						"",
						"",
					],
					"Monday, July 10th, 2023",
				],
				[
					"crossword #1",
					"Obsidian_Seal",
					"H-ARMS--HOLD/E-L-E-H-O-A-/XYLEM-ATTACK/A---E-TO--E-/GRASS-ROUNDS/O-----E--U-E/N-CHILDREN-N/S-H-N--E-SIT/-BENDS-N----/T-A-I--TRAYS/EXTRAS--ITEM/N-S--OXYGENS",
					[
						"",
						"weapons",
						"",
						"a request for a library book",
						"",
						"",
						"transports water from a plant&rsquo;s roots to its stem and leaves",
						"brute force, for example",
						"",
						"homophone of the second number",
						"the green part of a lawn",
						"a game may consist of several",
						"",
						"",
						"young people",
						"",
						"",
						"use a chair",
						"warps",
						"",
						"cafeteria food holders",
						"",
						"",
						"",
						"",
						"people seen in the background of a movie",
						"",
						"thing",
						"there are two in peroxide",
					],
					[
						"six-sided shapes",
						"___together",
						"funny things on the internet",
						"opposite of cold",
						"tied shoes",
						"intense dislike",
						"",
						"",
						"also",
						"",
						"",
						"",
						"women belonging to a religious order",
						"folder for emails you&rsquo;ve written",
						"doesn&rsquo;t follow the rules",
						"large country southwest of China",
						"play written by Jonathan Larson",
						"",
						"",
						"first natural number with two digits",
						"",
						"oil ___",
						"consumed food",
						"Japanese currency",
						"a type of text message",
						"",
						"therefore",
						"",
						"",
					],
					"Friday, March 15th, 2024",
				],
				[
					"mini #1",
					"Obsidian_Seal",
					"QUEUE/U-M-A/ALTER/IT-ON/LEANS",
					["line up", "", "", "change", "", "", "well-known Stephen King novel", "atop", "the Tower of Pisa does this"],
					["bird", "ambulance employee", "makes money", "", "a standard for wireless data transmission", "very, very long time", "", "", ""],
					"Thursday, March 21st, 2024",
				],
				[
					"animals",
					"Obsidian_Seal",
					"SEAL----/H----R--/ELEPHANT/E----C-U/PIG--C-R/--OX-O-T/--A--O-L/CAT--N-E",
					["the animal in Obsidian_Seal", "", "has a trunk", "", "farm animal associated with mud", "", "often used for plowing", "purring pet"],
					[
						"animal whose name is often used to refer to those who follow others blindly",
						"city critter common near garbage bins",
						"",
						"reptile with a shell",
						"",
						"animal whose name is also the acronym for Greatest of All Time",
						"",
						"",
					],
					"Friday, March 22nd, 2024",
				],
				[
					"mini #2",
					"Obsidian_Seal",
					"SLATE/PET-A/IDEAS/N---T/EXIT-",
					["blank _____", "", "", "", "animal in a house", "result of brainstorming", "what a sign above a door may read"],
					["back supporting bones", "type of light", "had lunch", "opposite west", "", "", ""],
					"Friday, March 22nd, 2024",
				],
				[
					"drowssorc",
					"that queer astrophysicist",
					"ANODE-------------/S------F----YAP---/TRANSFORMER---L---/R--O---O----PLANET/O------GAY--L-Y--H/PROTON------A----U/H-R--ELECTRONS---R/Y-B--U--O-H--PI--S/S----T--R-Y--A---D/ICY--R--E-T--C---A/C-E-SON-Y-HERE---Y/S-E--N----M-I-----/--TWO-------P-----",
					[
						"an electrode",
						"",
						"to talk a lot about nothing particularly meaningful",
						"",
						"robots in disguise~~",
						"",
						"we live on one of them!",
						"",
						"✨homosexual✨, also a word for happy",
						"positively charged subatomic particle",
						"",
						"",
						"negatively charged subatomic particles",
						"",
						"",
						"",
						"a greek letter, also a delicious dessert",
						"slippery due to the cold",
						"",
						"the sun but not",
						"not there",
						"",
						"second",
					],
					[
						"a field in science relating to space",
						"ribbit",
						"",
						"something children typically do",
						"",
						"not yes",
						"&ldquo;it is better to __ than to be unprepared&rdquo;",
						"fifth day of the week",
						"",
						"",
						"a spherical object",
						"a subatomic particle that is not positive nor negative",
						"",
						"a name that means &ldquo;hollow&rdquo;",
						"sounds to a beat",
						"where galaxies and stars and planets are found",
						"",
						"",
						"to throw something, also a meme",
						"",
						"",
						"a phrase commonly on a tombstone",
						"",
					],
					"Friday, March 22nd, 2024",
				],
				[
					"mini #3",
					"Obsidian_Seal",
					"LEVEL/E-E-A/MONEY/U-T-E/RISER",
					["flat (palindrome)", "", "", "paper with value", "early _____"],
					["long-tailed primates from Madagascar", "lets out emotion", "one of several coverings", "", ""],
					"Friday, March 22nd, 2024",
				],
				[
					"do this one",
					"Obsidian_Seal",
					"SQUARES/-U--ANA/SIGHTED/PE-E-M-/AT-YOYO/MLA-P-N/SYNAPSE",
					[
						"quadrilaterals with equal sides",
						"",
						"",
						"",
						"",
						"airline headquartered in Minato, Tokyo",
						"spotted",
						"",
						"gym class",
						"pronunciation of &ldquo;@&rdquo;",
						"spinning toy that returns when thrown",
						"",
						"",
						"paper style guidelines",
						"",
						"small gap between two neurons",
					],
					[
						"",
						"opposite of loudly",
						"medium-sized rodent",
						"&ldquo;I wouldn&rsquo;t wish that on my worst _____&rdquo;",
						"not happy",
						"",
						"messages repeatedly",
						"informal greeting",
						"",
						"",
						"",
						"police force in one of Canada&rsquo;s provinces",
						"&ldquo;invisible&rdquo; exponent",
						"",
						"&ldquo;I have __ idea&rdquo;",
						"",
					],
					"Saturday, March 23rd, 2024",
				],
				[
					"4 by 4",
					"Obsidian_Seal",
					"FORK/IRON/RATE/ELSE",
					["utensil", "", "", "", "Fe", "judge numerically", "in many programming languages, denotes the code to run when a condition is not met"],
					["the hottest of the four elements", "relating to the mouth", "decays", "leg joint", "", "", ""],
					"Sunday, March 24th, 2024",
				],
				[
					"3 by 3",
					"Obsidian_Seal",
					"CRY/O-E/BUS",
					["weep", "", "transit vehicle"],
					["what kernels are attached to, with &ldquo;the&rdquo;", "", "response to &ldquo;Is the sun a star?&rdquo;"],
					"Sunday, March 24th, 2024",
				],
				[
					"2 by 2",
					"Obsidian_Seal",
					"NO/AR",
					["response to &ldquo;Does four plus seven equal thirteen?&rdquo;", "", "argon"],
					["sodium", "this __ that", ""],
					"Sunday, March 24th, 2024",
				],
				[
					"mini #4",
					"Obsidian_Seal",
					"P-BAT/AIR-H/PLATE/E-I-R/RANGE",
					["", "animal that uses echolocation", "", "what we breathe (mostly nitrogen)", "", "dish", "word after &ldquo;mountain&rdquo; or &ldquo;free&rdquo;"],
					["page material", "protected by the skull, with &ldquo;the&rdquo;", "neither here nor _____", "", "French for &ldquo;he&rdquo;", "", ""],
					"Sunday, March 24th, 2024",
				],
				[
					"mini #5",
					"Obsidian_Seal",
					"TREES/R-NGO/ADDON/I-E-A/LIDAR",
					["what you can&rsquo;t see the forest for", "", "", "", "Amnesty International, for example", "plugin", "important sensors for self-driving cars"],
					["you might go to the forest for one", "completed, like a TV show", "can be big", "underwater sensors", "", "", ""],
					"Monday, March 25th, 2024",
				],
				[
					"mini #6 - 2024/03/26",
					"Obsidian_Seal",
					"ORGAN/T-AGO/TIMES/EVE-E/RISKY",
					["the brain is an example of one", "", "", "", "some time ___", "tables to remember", "", "night before", "could end badly"],
					["river mammal", "Risk, Battleship, Taboo, etc.", "years lived", "not the kind of neighbour you want", "", "", "4 & 1", "", ""],
					"Tuesday, March 26th, 2024",
				],
				[
					"mini #7",
					"Obsidian_Seal",
					"C-PIP/AM-DR/RATIO/BLOOM/SEPT-",
					[
						"",
						"die dot",
						"",
						"",
						"morning time",
						"",
						"last word in many road names, abbr.",
						"numbers separated by a colon",
						"",
						"what flowers do in the spring",
						"the longest month, abbr.",
					],
					["in bread", "", "dumb dumb", "year-end dance", "", "sounds like what the postal service delivers", "", "", "a.k.a. shirt", "", ""],
					"Wednesday, March 27th, 2024",
				],
				[
					"Greek Letters",
					"Obsidian_Seal",
					"----K---U-P/THETA---PHI/----P---S--/----P--XI-L/----A---L-A/--------O-M/--OMICRON-B/-C--O-H---D/-H--T-OMEGA/SIGMA---P--/--A----PSI-/--MU----I-T/Z-M-B-DELTA/ETA-E---O-U/T---T---NU-/ALPHA------",
					["", "", "", "Θ θ", "Φ φ", "Ξ ξ", "", "Ο ο", "", "", "", "Ω ω", "", "Σ σ/ς", "", "Ψ ψ", "Μ μ", "", "", "", "Δ δ", "Η η", "Ν ν", "Α α"],
					["Κ κ", "Υ υ", "Π π", "", "", "", "Λ λ", "", "Ι ι", "Ρ ρ", "Χ χ", "", "Ε ε", "", "Γ γ", "", "", "Τ τ", "Ζ ζ", "Β β", "", "", "", ""],
					"Thursday, March 28th, 2024",
				],
				[
					"mini #8",
					"Obsidian_Seal",
					"TWICE/V-RAM/ADORE/DONOR/SHYLY",
					[
						"how many times a year there&rsquo;s a solstice",
						"",
						"",
						"",
						"a computer may have 16GB of it",
						"love",
						"",
						"someone who gives something to a cause",
						"timidly",
					],
					["commercials", "a fire at a fire station, for example", "_____ of the bells", "nail care board", "", "", "Play-___", "", ""],
					"Thursday, March 28th, 2024",
				],
				[
					"THE mini",
					"that queer astrophysicist",
					"ANODE/KEBOB/EW-NO/E-SUN/SIXTY",
					["opposite of a cathode", "", "", "", "", "food on a stick", "often said if something is gross", "not yes", "our star", "10<sup>2</sup>-2(20)"],
					[
						"a fruit native to west Africa",
						"not old",
						"obstetrics abbr.",
						"a pastry with a hole in the center",
						"a dark type of wood",
						"",
						"",
						"",
						"signs and symptoms; abbr.",
						"",
					],
					"Thursday, March 28th, 2024",
				],
				[
					"mini #9",
					"Obsidian_Seal",
					"FLAME/AI-EV/AMPLE/-BOON/POINT",
					["produced by a Bunsen burner", "", "", "", "ChatGPT, for example", "vehicle you plug in", "enough", "", "&ldquo;a timely benefit&rdquo;", "(3, -4)"],
					[
						"aviation regulator in the USA",
						"bend over to fit under a bar",
						"big, round, green food",
						"closed for a special _____",
						"",
						"",
						"",
						"the solution of two lines",
						"",
						"",
					],
					"Friday, March 29th, 2024",
				],
				[
					"🪐🔭 SPACE 🛰️",
					"that queer astrophysicist",
					"--A---I---J----------/-ASTEROID-URANUS-----/--T-----U-P----U--H--/-CRATER-S-I-A-SPACE--/--O-----T-T-L--E--R--/-GPS-H----E-I-ORBITAL/--H--UNIVERSE--N--Z--/--Y--B---M--N--O-S---/NASA-BANG------V-K---/E-I--L---Q--GALAXY---/B-COMET--U--A-U---M--/U-S-O--STAR-L-N---I--/L---O----S--I-A-P-C--/A---NEBULA--L-R-L-R--/EXO----N-R--E---UFO--/-------I--G-ORBIT----/----N-----H---L-OORT-/---ZODIAC-GAMMA----E-/--O-V--S------Z----L-/--Z-A--T-----MARS--E-/--O----R-KUIPER-P--S-/--NEUTRON----R--UV-C-/--E----N-G-A-C--T--O-/-------O-A-X-U--N--P-/-------MESSIER--I--E-/-------Y---S-Y--K----",
					[
						"",
						"",
						"",
						"rocky object(s) that orbit the sun",
						"",
						"the seventh planet from the sun",
						"",
						"",
						"a cavity on the surface of a planet or moon",
						"",
						"the physical universe beyond Earth&rsquo;s atmosphere",
						"global positioning system",
						"",
						"a 3D description of the most likely place to find an electron",
						"all of space and everything in it",
						"",
						"",
						"agency responsible for space research ",
						"&ldquo;the big ____&rdquo;",
						"",
						"a collection of gas, dust, stars, and planets",
						"",
						"similar to an asteroid, but composed of ice and dust",
						"",
						"",
						"self-luminous celestial body composed of gas",
						"",
						"a cloud of dust and gas",
						"",
						"prefix for a planet outside our solar system",
						"unidentified flying object",
						"",
						"curved or elliptical path a celestial object follows around another object",
						"",
						"",
						"a spherical &ldquo;shell&rdquo; surrounding our solar system",
						"",
						"scorpio or aquarius, for example",
						"",
						"the most dangerous form of radiation",
						"",
						"the red planet",
						"",
						"a celestial &ldquo;belt&rdquo; beyond neptune&rsquo;s orbit; also the last name of a scientist",
						"a very dense type of star; also a type of subatomic particle",
						"ultraviolet",
						"",
						"",
						"a collection of &ldquo;deep sky objects&rdquo; categorized by a French astronomer",
					],
					[
						"a branch of physics concerning the study of space and the universe; related to astronomy",
						"one of jupiter&rsquo;s moons",
						"the largest planet in the solar system",
						"",
						"small particles of matter",
						"",
						"the explosion of a star",
						"frequency",
						"",
						"extraterrestrial life",
						"",
						"",
						"the predecessor of the JWST",
						"",
						"",
						"short for electromagnetic",
						"the region of the atmosphere and space that is seen from earth",
						"multiple clouds of dust and gas",
						"",
						"massive celestial objects that emit large amounts of energy",
						"one of the most famous astronomers",
						"having to do with the moon",
						"",
						"a natural satellite",
						"a prefix for a type of (non-lethal) radiation",
						"",
						"the most well-known dwarf planet",
						"",
						"not multi",
						"",
						"",
						"causes climate change",
						"",
						"similar to a quasar but far more variable",
						"an event that causes the sudden appearance of a new star",
						"",
						"an optical instrument used to make things in space appear closer",
						"",
						"the study of everything beyond Earth&rsquo;s atmosphere",
						"",
						"a layer in the Earth&rsquo;s atmosphere that absorbs most radiation from the sun",
						"the first planet from the sun",
						"a series of the first manmade satellites",
						"",
						"",
						"",
						"one of the states of matter",
						"an imaginary line about which a body rotates",
						"",
					],
					"Friday, March 29th, 2024",
				],
				[
					"mini #10",
					"Obsidian_Seal",
					"ROCKS/O-H-L/BLAME/OAR-E/TXT-P",
					[
						"bigger than pebbles",
						"",
						"",
						"to assign responsibility, especially for something negative",
						"",
						"one of two needed to move a rowboat",
						"plain text file extension",
					],
					["android", "graph", "you need several hours of this a night", "", "Los Angeles airport code", "", ""],
					"Saturday, March 30th, 2024",
				],
				[
					"mini #11",
					"Obsidian_Seal",
					"SOLAR/UNE-I/N-MIN/-GONG/URN-S",
					[
						"type of eclipse",
						"",
						"",
						"",
						"&ldquo;a&rdquo; in French (feminine)",
						"lowest number, abbr.",
						"",
						"big metal disk that might be struck to signify dinner time",
						"ash-storing vase",
					],
					[
						"covered during an eclipse",
						"opposite of &ldquo;off&rdquo;",
						"yellow and sour",
						"what a phone does",
						"",
						"",
						"opposite of &ldquo;out&rdquo;",
						"year of school, abbr.",
						"",
					],
					"Saturday, April 6th, 2024",
				],
				[
					"mini #12",
					"Obsidian_Seal",
					"UP-C-/--LAB/GNOME/BAGEL/-BOLT",
					["opposite of &ldquo;down&rdquo;", "", "where chemistry takes place", "", "little lawn figure", "", "very similar to a doughnut", "run away suddenly"],
					["", "desert horse", "brand icon", "keeps your pants on", "part of the UK", "grab something", "", ""],
					"Thursday, April 18th, 2024",
				],
				[
					"mini #13",
					"Obsidian_Seal",
					"UNITE/NO-MR/INDIA/O-U-S/NOBLE",
					[
						"bring together",
						"",
						"",
						"",
						"does &ldquo;4 + 5 * 4 / 2 = 18&rdquo;?",
						"Ms., but male",
						"phonetic &ldquo;I&rdquo;",
						"",
						"a group 18 gas may be called this",
					],
					[
						"common name for a station that serves multiple lines",
						"5-across, in France",
						"too much information",
						"undo pencil",
						"",
						"",
						"",
						"an alternate audio track in another language",
						"",
					],
					"Thursday, June 27th, 2024",
				],
			];

			var crosswordNumber = crosswords.length - 1;

			const query = window.location.search;
			const item = new URLSearchParams(query);
			var puzzleNumber = item.get("puzzle");

			if (/^\d+$/.test(puzzleNumber)) {
				puzzleNumber = parseInt(puzzleNumber);
				if (puzzleNumber < crosswords.length) crosswordNumber = parseInt(puzzleNumber);
				else window.history.replaceState({}, "", "?puzzle=" + crosswordNumber);
			}

			document.querySelector("title").innerHTML = `&ldquo;${crosswords[crosswordNumber][0]}&rdquo; by ${crosswords[crosswordNumber][1]}`;

			const crosswordArray = crosswords[crosswordNumber][2].split("/");
			const crosswordWidth = crosswordArray[0].length;
			const crosswordHeight = crosswordArray.length;
			for (let i = 0; i < crosswordHeight; i++) crosswordArray[i] = crosswordArray[i].split("");

			document.querySelector("h1 span").innerHTML = crosswords[crosswordNumber][0];
			document.querySelector("h2 span").innerHTML = crosswords[crosswordNumber][1];

			for (let i = 0; i < crosswords.length; i++) {
				let crosswordArray = crosswords[i][2].split("/");
				let crosswordWidth = crosswordArray[0].length;
				let crosswordHeight = crosswordArray.length;

				let puzzleListItemElement = document.createElement("div");
				puzzleListItemElement.tabIndex = 0;
				puzzleListItemElement.innerHTML = crosswords[i][0];

				let infoElement = document.createElement("div");
				infoElement.innerHTML = `${crosswords[i][1]}<span class="material-symbols-outlined filled circle">circle</span>${crosswordWidth}<span class="material-symbols-outlined filled x">close</span>${crosswordHeight}<span class="material-symbols-outlined filled circle">circle</span>${crosswords[i][5]}`;
				puzzleListItemElement.appendChild(infoElement);

				choosePuzzleMenuElement.appendChild(puzzleListItemElement);

				puzzleListItemElement.addEventListener("click", (e) => {
					setTimeout(() => {
						window.location.href = "?puzzle=" + i;
					}, 500);
				});
			}

			function toggleVisibility(element) {
				if (element.classList.contains("show")) {
					element.classList.remove("show");
					element.classList.add("hide");
					return;
				}
				if (element.classList.contains("hide")) {
					element.classList.remove("hide");
					element.classList.add("show");
					return;
				}
			}

			function togglePuzzleMenu() {
				toggleVisibility(choosePuzzleMenuElement);
				if (choosePuzzleMenuElement.classList.contains("show")) menuArrowElement.innerHTML = "arrow_drop_up";
				if (choosePuzzleMenuElement.classList.contains("hide")) menuArrowElement.innerHTML = "arrow_drop_down";
			}

			menuArrowElement.addEventListener("click", (e) => {
				togglePuzzleMenu();
			});

			document.addEventListener("click", (e) => {
				// hopefully this is good
				if (e.target != menuArrowElement && e.target != choosePuzzleMenuElement) {
					if (choosePuzzleMenuElement.classList.contains("show")) {
						choosePuzzleMenuElement.classList.remove("show");
						choosePuzzleMenuElement.classList.add("hide");

						menuArrowElement.innerHTML = "arrow_drop_down";
					}
				}
			});

			for (let i = 0; i < crosswordHeight; i++) {
				let rowElement = document.createElement("div");
				rowElement.classList.add("row");

				for (let j = 0; j < crosswordWidth; j++) {
					let letter = crosswordArray[i][j];

					let squareElement = document.createElement("div");
					squareElement.classList.add("square");
					if (letter == "-") squareElement.classList.add("void");
					else squareElement.appendChild(document.createElement("div"));

					rowElement.append(squareElement);
				}

				document.querySelector(".crossword").appendChild(rowElement);
			}

			var numberCount = 0;
			var acrossWordNumbers = [];
			var downWordNumbers = [];
			var acrossWordNumbersNoBlank = [];
			var downWordNumbersNoBlank = [];

			for (let i = 0; i < crosswordHeight; i++) {
				for (let j = 0; j < crosswordWidth; j++) {
					let squareElement = document.querySelector(`.row:nth-child(${i + 1}) .square:nth-child(${j + 1})`);
					squareElement.id = `s${i}-${j}`;

					if (crosswordArray[i][j] == "-") continue;

					var upVoid = false;
					var leftVoid = false;
					var downVoid = false;
					var rightVoid = false;

					if (i == 0) upVoid = true;
					else if (crosswordArray[i - 1][j] == "-") upVoid = true;

					if (j == 0) leftVoid = true;
					else if (crosswordArray[i][j - 1] == "-") leftVoid = true;

					if (i == crosswordHeight - 1) downVoid = true;
					else if (crosswordArray[i + 1][j] == "-") downVoid = true;

					if (j == crosswordWidth - 1) rightVoid = true;
					else if (crosswordArray[i][j + 1] == "-") rightVoid = true;

					if ((leftVoid && !rightVoid) || (upVoid && !downVoid)) {
						let numberElement = document.createElement("span");
						numberElement.innerHTML = ++numberCount;
						squareElement.appendChild(numberElement);

						if (leftVoid && !rightVoid) {
							acrossWordNumbers.push(`s${i}-${j}`);
							acrossWordNumbersNoBlank.push(numberCount);
						} else acrossWordNumbers.push("");
						if (upVoid && !downVoid) {
							downWordNumbers.push(`s${i}-${j}`);
							downWordNumbersNoBlank.push(numberCount);
						} else downWordNumbers.push("");
					}
				}
			}

			function createClueElement(number, text, container) {
				let clueElement = document.createElement("div");
				clueElement.classList.add("clue");

				let numberElement = document.createElement("div");
				numberElement.innerHTML = number;

				let clueTextElement = document.createElement("div");
				clueTextElement.innerHTML = text;

				clueElement.appendChild(numberElement);
				clueElement.appendChild(clueTextElement);

				container.appendChild(clueElement);
			}

			for (let i = 0; i < crosswords[crosswordNumber][3].length; i++) {
				if (crosswords[crosswordNumber][3][i] != "") createClueElement(i + 1, crosswords[crosswordNumber][3][i], acrossCluesContainerElement);
			}

			for (let i = 0; i < crosswords[crosswordNumber][4].length; i++) {
				if (crosswords[crosswordNumber][4][i] != "") createClueElement(i + 1, crosswords[crosswordNumber][4][i], downCluesContainerElement);
			}

			// --- 2. timer ---

			var minutes = 0;
			var seconds = 0;
			var pad = "0";
			var pause = false;

			const menuPositionCheck = setInterval(() => {
				const menuArrowRect = menuArrowElement.getBoundingClientRect();

				if (menuArrowRect.width < 100) {
					if (menuArrowRect.left > 550) choosePuzzleMenuElement.style = "right: 0";
					else choosePuzzleMenuElement.style = `left: ${Math.round(menuArrowRect.left) - 42}px`;

					loadingPanelElement.remove();
					document.querySelector("#styles-to-remove-2").remove();

					setInterval(() => {
						if (!pause) {
							seconds++;
							if (seconds == 60) {
								seconds = 0;
								minutes++;

								timerContainerElement.style = `width: ${92 + 18 * minutes.toString().length}px`;
							}
							if (seconds < 10) pad = "0";
							else pad = "";
							timerElement.innerHTML = `${minutes}:${pad}${seconds}`;
							exportProgress();
						}
					}, 1000);

					clearInterval(menuPositionCheck);
				}
			}, 10);

			// --- 3. word highlighting & keyboard input ---

			var direction = true;
			var wordNumber = -1;
			var firstWord = true;
			var activeX = -1;
			var activeY = 0;

			function nextWordNumber() {
				if (direction) {
					wordNumber++;
					while (acrossWordNumbers[wordNumber] == "") wordNumber++;
					if (wordNumber >= acrossWordNumbers.length) {
						direction = !direction;
						wordNumber = 0;
						while (downWordNumbers[wordNumber] == "") wordNumber++;
					}
				} else {
					wordNumber++;
					while (downWordNumbers[wordNumber] == "") wordNumber++;
					if (wordNumber >= downWordNumbers.length) {
						direction = !direction;
						wordNumber = 0;
						while (acrossWordNumbers[wordNumber] == "") wordNumber++;
					}
				}

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeY++;
							if (activeY == crosswordWidth) {
								activeY = y;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeY = y;
								break;
							}
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeX++;
							if (activeX == crosswordHeight) {
								activeX = x;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeX = x;
								break;
							}
						} else break;
					}
				}
			}

			function previousWordNumber() {
				if (direction) {
					wordNumber--;
					while (acrossWordNumbers[wordNumber] == "") wordNumber--;
					if (wordNumber < 0) {
						direction = !direction;
						wordNumber = downWordNumbers.length - 1;
						while (downWordNumbers[wordNumber] == "") wordNumber--;
					}
				} else {
					wordNumber--;
					while (downWordNumbers[wordNumber] == "") wordNumber--;
					if (wordNumber < 0) {
						direction = !direction;
						wordNumber = acrossWordNumbers.length - 1;
						while (acrossWordNumbers[wordNumber] == "") wordNumber--;
					}
				}

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeY++;
							if (activeY == crosswordWidth) {
								activeY = y;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeY = y;
								break;
							}
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
					activeX = x;
					activeY = y;

					while (true) {
						let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

						if (letter != "") {
							activeX++;
							if (activeX == crosswordHeight) {
								activeX = x;
								break;
							} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
								activeX = x;
								break;
							}
						} else break;
					}
				}
			}

			nextWordNumber();

			function highlightWordSquares() {
				document.querySelectorAll(".active-word-square").forEach((square) => {
					square.classList.remove("active-word-square");
				});
				document.querySelectorAll(".active-square").forEach((square) => {
					square.classList.remove("active-square");
				});
				document.querySelectorAll(".active-clue").forEach((clue) => {
					clue.classList.remove("active-clue");
				});
				document.querySelectorAll(".active-clue-opposite").forEach((clue) => {
					clue.classList.remove("active-clue-opposite");
				});

				if (direction) {
					let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));

					while (y < crosswordWidth) {
						let element = document.querySelector(`#s${x}-${y++}`);

						if (!element.classList.contains("void")) {
							element.classList.add("active-word-square");
						} else break;
					}
				} else {
					let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
					let x = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
					let y = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));

					while (x < crosswordHeight) {
						let element = document.querySelector(`#s${x++}-${y}`);

						if (!element.classList.contains("void")) {
							element.classList.add("active-word-square");
						} else break;
					}
				}

				let element = document.querySelector(`#s${activeX}-${activeY}`);
				element.classList.add("active-square");

				let oppositeWordNumber;

				if (direction) {
					var upVoid = false;
					var downVoid = false;

					if (activeX == 0) upVoid = true;
					else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

					if (activeX == crosswordHeight - 1) downVoid = true;
					else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

					if (!(upVoid && downVoid)) {
						direction = !direction;
						oppositeWordNumber = getWordNumber();
						direction = !direction;
					}
				} else {
					var leftVoid = false;
					var rightVoid = false;

					if (activeY == 0) leftVoid = true;
					else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

					if (activeY == crosswordWidth - 1) rightVoid = true;
					else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

					if (!(leftVoid && rightVoid)) {
						direction = !direction;
						oppositeWordNumber = getWordNumber();
						direction = !direction;
					}
				}

				let clueElement;
				if (direction) clueElement = acrossCluesContainerElement.children[acrossWordNumbersNoBlank.indexOf(wordNumber + 1)];
				else clueElement = downCluesContainerElement.children[downWordNumbersNoBlank.indexOf(wordNumber + 1)];
				clueElement.classList.add("active-clue");

				if (direction) {
					let containerRect = acrossCluesContainerElement.getBoundingClientRect();
					let elementRect = clueElement.getBoundingClientRect();

					acrossCluesContainerElement.scrollBy(0, elementRect.top - (containerRect.top + 7));
				} else {
					let containerRect = downCluesContainerElement.getBoundingClientRect();
					let elementRect = clueElement.getBoundingClientRect();

					downCluesContainerElement.scrollBy(0, elementRect.top - (containerRect.top + 7));
				}

				let oppositeClueElement;
				if (direction) oppositeClueElement = downCluesContainerElement.children[downWordNumbersNoBlank.indexOf(oppositeWordNumber + 1)];
				else oppositeClueElement = acrossCluesContainerElement.children[acrossWordNumbersNoBlank.indexOf(oppositeWordNumber + 1)];

				if (oppositeClueElement != null) {
					oppositeClueElement.classList.add("active-clue-opposite");

					if (firstWord) {
						firstWord = false;

						const clueElementHeightCheck = setInterval(() => {
							if (document.querySelector(".active-clue div").getBoundingClientRect().height == 21) {
								if (direction) {
									let containerRectTop = acrossCluesContainerElement.getBoundingClientRect().top;
									let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

									downCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
								} else {
									let containerRectTop = downCluesContainerElement.getBoundingClientRect().top;
									let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

									acrossCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
								}

								clearInterval(clueElementHeightCheck);
							}
						}, 10);
					} else {
						if (direction) {
							let containerRectTop = acrossCluesContainerElement.getBoundingClientRect().top;
							let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

							downCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
						} else {
							let containerRectTop = downCluesContainerElement.getBoundingClientRect().top;
							let oppositeClueRectTop = oppositeClueElement.getBoundingClientRect().top;

							acrossCluesContainerElement.scrollBy(0, oppositeClueRectTop - (containerRectTop + 7));
						}
					}
				}
			}

			try {
				highlightWordSquares();
			} catch {
				console.log("ERROR: initial word and clue highlighting failed");
			}

			function getWordNumber() {
				let x = activeX;
				let y = activeY;

				if (direction) {
					while (true) {
						if (y == 0) {
							let element = document.querySelector(`#s${x}-${y}`);
							if (element.children.length > 1) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							}
						}

						let element = document.querySelector(`#s${x}-${--y}`);
						if (element.classList.contains("void")) {
							element = document.querySelector(`#s${x}-${++y}`);
							return parseInt(element.children[1].innerHTML) - 1;
							break;
						}

						if (element.children.length > 1) {
							if (y == 0) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							} else {
								if (document.querySelector(`#s${x}-${--y}`).classList.contains("void")) {
									return parseInt(element.children[1].innerHTML) - 1;
									break;
								}
							}
						}
					}
				} else {
					while (true) {
						if (x == 0) {
							let element = document.querySelector(`#s${x}-${y}`);
							if (element.children.length > 1) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							}
						}

						let element = document.querySelector(`#s${--x}-${y}`);
						if (element.classList.contains("void")) {
							element = document.querySelector(`#s${++x}-${y}`);
							return parseInt(element.children[1].innerHTML) - 1;
							break;
						}

						if (element.children.length > 1) {
							if (x == 0) {
								return parseInt(element.children[1].innerHTML) - 1;
								break;
							} else {
								if (document.querySelector(`#s${--x}-${y}`).classList.contains("void")) {
									return parseInt(element.children[1].innerHTML) - 1;
									break;
								}
							}
						}
					}
				}
			}

			function checkForWin() {
				let crosswordString = "";

				for (let i = 0; i < crosswordHeight; i++) {
					for (let j = 0; j < crosswordWidth; j++) {
						if (document.querySelector(`#s${i}-${j}`).classList.contains("void")) {
							crosswordString += "-";
						} else {
							let letter = document.querySelector(`#s${i}-${j} div`).innerHTML;
							if (letter == "") crosswordString += "x";
							else crosswordString += letter;
						}
					}
					if (i < crosswordHeight - 1) crosswordString += "/";
				}

				if (crosswordString == crosswords[crosswordNumber][2]) {
					handleWin();
					return true;
				} else {
					// console.log(crosswordString, crosswords[crosswordNumber][2]);
					return false;
				}
			}

			var win = false;
			const winMessages = [
				"You did it!",
				"Congratulations!",
				"Yippee!",
				"Yay!",
				"Incredible!",
				"Amazing!",
				"Wow!",
				"Excellent!",
				"Awesome!",
				"Super!",
				"Fantastic!",
				"Wonderful!",
				"Bingo!",
				"Way to go!",
				"Great!",
				"Brilliant!",
			];

			function handleWin() {
				win = true;
				pause = true;
				document.querySelector("h3").innerHTML = winMessages[Math.floor(Math.random() * winMessages.length)];
				document.querySelector("h4 span").innerHTML = `${minutes}:${pad}${seconds}`;

				document.querySelector("#styles-to-remove").remove();

				setTimeout(() => {
					document.querySelector(".crossword-container").classList.add("blur");
					toggleVisibility(document.querySelector(".win-panel"));
					pauseButtonElement.innerHTML = "done";
				}, 1000);
			}

			function share() {
				navigator.clipboard.writeText(
					`☑️ I solved “[${crosswords[crosswordNumber][0]}](https://pinniped.page/projects/crosswords?puzzle=${crosswordNumber})” by ${crosswords[crosswordNumber][1]} in **${minutes}:${pad}${seconds}**!`
				);

				let savedHTML = shareButtonElement.innerHTML;
				shareButtonElement.innerHTML = "Copied!";

				setTimeout(() => {
					shareButtonElement.innerHTML = savedHTML;
				}, 3000);
			}

			function close() {
				if (!document.querySelector(".crossword-container").classList.contains("blur")) {
					document.querySelector(".crossword-container").classList.add("blur");
				} else {
					document.querySelector(".crossword-container").classList.remove("blur");
				}
				toggleVisibility(document.querySelector(".win-panel"));
			}

			shareButtonElement.addEventListener("click", (e) => {
				share();
			});

			closeButtonElement.addEventListener("click", (e) => {
				close();
			});

			var keys = {};

			document.addEventListener("keydown", (e) => {
				keys[e.key] = true;

				if (document.querySelectorAll(".loading-panel").length != 0) return;

				if (e.key == "Escape") {
					if (!win) togglePause();
					else {
						if (!document.querySelector(".crossword-container").classList.contains("blur")) {
							document.querySelector(".crossword-container").classList.add("blur");
						} else {
							document.querySelector(".crossword-container").classList.remove("blur");
						}
						toggleVisibility(document.querySelector(".win-panel"));
					}
				}

				if (!pause) {
					// A - Z
					if (e.keyCode >= 65 && e.keyCode <= 90) {
						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";
						activeElement.innerHTML = e.key.toUpperCase();

						if (direction) {
							if (activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;

								while (true) {
									let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

									if (letter != "") {
										if (activeY + 1 == crosswordWidth) break;
										else if (document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) break;
										activeY++;
									} else break;
								}
							}
						} else {
							if (activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;

								while (true) {
									let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

									if (letter != "") {
										if (activeX + 1 == crosswordHeight) break;
										else if (document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) break;
										activeX++;
									} else break;
								}
							}
						}

						highlightWordSquares();
						checkForWin();
						exportProgress();
					}

					// space
					if (e.key == " ") {
						e.preventDefault();
						direction = !direction;

						if (direction) {
							var leftVoid = false;
							var rightVoid = false;

							if (activeY == 0) leftVoid = true;
							else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

							if (activeY == crosswordWidth - 1) rightVoid = true;
							else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

							if (leftVoid && rightVoid) direction = !direction;
						} else {
							var upVoid = false;
							var downVoid = false;

							if (activeX == 0) upVoid = true;
							else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

							if (activeX == crosswordHeight - 1) downVoid = true;
							else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

							if (upVoid && downVoid) direction = !direction;
						}

						wordNumber = getWordNumber();

						highlightWordSquares();
						exportProgress();
					}

					// arrow keys
					if (e.keyCode >= 37 && e.keyCode <= 40) {
						e.preventDefault();

						if (direction) {
							if (e.keyCode == 37 && activeY > 0) {
								if (!document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void")) activeY--;
							}
							if (e.keyCode == 38 && activeX > 0) {
								if (!document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void")) activeX--;
								direction = !direction;

								var upVoid = false;
								var downVoid = false;

								if (activeX == 0) upVoid = true;
								else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

								if (activeX == crosswordHeight - 1) downVoid = true;
								else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

								if (upVoid && downVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 39 && activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;
							}
							if (e.keyCode == 40 && activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;
								direction = !direction;

								var upVoid = false;
								var downVoid = false;

								if (activeX == 0) upVoid = true;
								else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

								if (activeX == crosswordHeight - 1) downVoid = true;
								else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

								if (upVoid && downVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
						} else {
							if (e.keyCode == 37 && activeY > 0) {
								if (!document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void")) activeY--;
								direction = !direction;

								var leftVoid = false;
								var rightVoid = false;

								if (activeY == 0) leftVoid = true;
								else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

								if (activeY == crosswordWidth - 1) rightVoid = true;
								else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

								if (leftVoid && rightVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 38 && activeX > 0) {
								if (!document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void")) activeX--;
							}
							if (e.keyCode == 39 && activeY < crosswordWidth - 1) {
								if (!document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;
								direction = !direction;

								var leftVoid = false;
								var rightVoid = false;

								if (activeY == 0) leftVoid = true;
								else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

								if (activeY == crosswordWidth - 1) rightVoid = true;
								else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

								if (leftVoid && rightVoid) direction = !direction;

								wordNumber = getWordNumber();
							}
							if (e.keyCode == 40 && activeX < crosswordHeight - 1) {
								if (!document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;
							}
						}

						highlightWordSquares();
					}

					// tab & enter
					if (e.key == "Tab" || e.key == "Enter") {
						if (e.key == "Tab") e.preventDefault();

						if (keys["Shift"]) previousWordNumber();
						else nextWordNumber();

						highlightWordSquares();
					}

					// backspace
					if (e.key == "Backspace") {
						var squareEmpty = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML == "";

						if (direction) {
							if (activeY > 0) {
								var leftVoid = document.querySelector(`#s${activeX}-${activeY - 1}`).classList.contains("void");
								if (squareEmpty && !leftVoid) activeY--;
							}
						} else {
							if (activeX > 0) {
								var upVoid = document.querySelector(`#s${activeX - 1}-${activeY}`).classList.contains("void");
								if (squareEmpty && !upVoid) activeX--;
							}
						}

						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";

						highlightWordSquares();
						exportProgress();
					}

					// delete (backwards backspace...so...forward space?)
					if (e.key == "Delete") {
						var squareEmpty = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML == "";

						if (direction) {
							if (activeY < crosswordWidth - 1) {
								var rightVoid = document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void");
								if (squareEmpty && !rightVoid) activeY++;
							}
						} else {
							if (activeX < crosswordHeight - 1) {
								var downVoid = document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void");
								if (squareEmpty && !downVoid) activeX++;
							}
						}

						let activeElement = document.querySelector(`#s${activeX}-${activeY} div`);
						activeElement.innerHTML = "";

						highlightWordSquares();
						exportProgress();
					}

					// page up & page down
					if (e.key == "PageUp" || e.key == "PageDown") {
						e.preventDefault();

						if (e.key == "PageUp") {
							if (direction) wordNumber = acrossWordNumbersNoBlank[0] - 1;
							else wordNumber = downWordNumbersNoBlank[0] - 1;
						}

						if (e.key == "PageDown") {
							if (direction) wordNumber = acrossWordNumbersNoBlank[acrossWordNumbersNoBlank.length - 1] - 1;
							else wordNumber = downWordNumbersNoBlank[downWordNumbersNoBlank.length - 1] - 1;
						}

						// DO NOT QUESTION IT
						previousWordNumber();
						nextWordNumber();

						highlightWordSquares();
					}

					// home & end
					if (e.key == "Home" || e.key == "End") {
						if (e.key == "Home") {
							previousWordNumber();
							nextWordNumber();
						}
						if (e.key == "End") {
							if (direction) {
								while (activeY < crosswordWidth - 1 && !document.querySelector(`#s${activeX}-${activeY + 1}`).classList.contains("void")) activeY++;
							} else {
								while (activeX < crosswordHeight - 1 && !document.querySelector(`#s${activeX + 1}-${activeY}`).classList.contains("void")) activeX++;
							}
						}

						highlightWordSquares();
					}
				} else {
					if (e.key == "Enter") {
						if (document.activeElement == shareButtonElement) share();
						if (document.activeElement == closeButtonElement) close();
						if (document.activeElement == document.querySelector("h1 .material-symbols-outlined")) togglePuzzleMenu();

						let puzzleSelectIndex = 0;
						let lookingForEntered = true;
						document.querySelectorAll(".choose-puzzle-menu div[tabindex]").forEach((puzzleToChoose) => {
							if (document.activeElement == puzzleToChoose) {
								lookingForEntered = false;
								setTimeout(() => {
									window.location.href = "?puzzle=" + puzzleSelectIndex;
								}, 500);
							}
							if (lookingForEntered) puzzleSelectIndex++;
						});
					}
				}
			});

			document.addEventListener("keyup", (e) => {
				delete keys[e.key];
			});

			// --- 4. the mouse ---

			document.querySelectorAll(".square:not(.void)").forEach((openSquare) => {
				openSquare.addEventListener("click", (e) => {
					if (!pause) {
						let separatorIndex = openSquare.id.indexOf("-");
						let x = parseInt(openSquare.id.substring(1, separatorIndex));
						let y = parseInt(openSquare.id.substring(separatorIndex + 1));

						if (x == activeX && y == activeY) direction = !direction;
						else {
							activeX = x;
							activeY = y;
						}

						if (direction) {
							var leftVoid = false;
							var rightVoid = false;

							if (activeY == 0) leftVoid = true;
							else if (crosswordArray[activeX][activeY - 1] == "-") leftVoid = true;

							if (activeY == crosswordWidth - 1) rightVoid = true;
							else if (crosswordArray[activeX][activeY + 1] == "-") rightVoid = true;

							if (leftVoid && rightVoid) direction = !direction;
						} else {
							var upVoid = false;
							var downVoid = false;

							if (activeX == 0) upVoid = true;
							else if (crosswordArray[activeX - 1][activeY] == "-") upVoid = true;

							if (activeX == crosswordHeight - 1) downVoid = true;
							else if (crosswordArray[activeX + 1][activeY] == "-") downVoid = true;

							if (upVoid && downVoid) direction = !direction;
						}

						wordNumber = getWordNumber();
						highlightWordSquares();
					}
				});
			});

			// --- 5. pause ---

			function togglePause() {
				pause = !pause;

				if (pause) {
					pauseButtonElement.innerHTML = "play_arrow";
					document.querySelector(".crossword-container").classList.add("blur");
					document.querySelector("h1 .material-symbols-outlined").tabIndex = "0";
				} else {
					pauseButtonElement.innerHTML = "pause";
					document.querySelector(".crossword-container").classList.remove("blur");
					document.querySelector("h1 .material-symbols-outlined").removeAttribute("tabindex");

					choosePuzzleMenuElement.classList.replace("show", "hide");
					menuArrowElement.innerHTML = "arrow_drop_down";
				}
			}

			pauseButtonElement.addEventListener("click", (e) => {
				if (!win) togglePause();
			});

			// --- 6. click clues ---

			document.querySelectorAll(".across-clues .clue").forEach((clue) => {
				clue.addEventListener("click", (e) => {
					if (!pause) {
						direction = true;
						wordNumber = parseInt(clue.children[0].innerHTML) - 1;

						let separatorIndex = acrossWordNumbers[wordNumber].indexOf("-");
						activeX = parseInt(acrossWordNumbers[wordNumber].substring(1, separatorIndex));
						activeY = parseInt(acrossWordNumbers[wordNumber].substring(separatorIndex + 1));
						let x = activeX;
						let y = activeY;

						if (!clue.classList.contains("active-clue")) {
							while (true) {
								let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

								if (letter != "") {
									activeY++;
									if (activeY == crosswordWidth) {
										activeY = y;
										break;
									} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
										activeY = y;
										break;
									}
								} else break;
							}
						}

						highlightWordSquares();
					}
				});
			});
			document.querySelectorAll(".down-clues .clue").forEach((clue) => {
				clue.addEventListener("click", (e) => {
					if (!pause) {
						direction = false;
						wordNumber = parseInt(clue.children[0].innerHTML) - 1;

						let separatorIndex = downWordNumbers[wordNumber].indexOf("-");
						activeX = parseInt(downWordNumbers[wordNumber].substring(1, separatorIndex));
						activeY = parseInt(downWordNumbers[wordNumber].substring(separatorIndex + 1));
						let x = activeX;
						let y = activeY;

						if (!clue.classList.contains("active-clue")) {
							while (true) {
								let letter = document.querySelector(`#s${activeX}-${activeY} div`).innerHTML;

								if (letter != "") {
									activeX++;
									if (activeX == crosswordWidth) {
										activeX = x;
										break;
									} else if (document.querySelector(`#s${activeX}-${activeY}`).classList.contains("void")) {
										activeX = x;
										break;
									}
								} else break;
							}
						}

						highlightWordSquares();
					}
				});
			});

			// --- 7. loading error ---

			document.querySelector("#load-error").addEventListener("click", (e) => {
				window.location.href = "../status.html";
			});

			// --- 8. save & load progress

			function exportProgress() {
				var progressString = "";

				for (let i = 0; i < crosswordHeight; i++) {
					for (let j = 0; j < crosswordWidth; j++) {
						let squareElement = document.querySelector(`#s${i}-${j}`);
						if (squareElement.children.length > 0) {
							let letter = squareElement.firstChild.innerHTML;
							if (letter == "") letter = "_";
							progressString += letter;
						} else {
							progressString += "-";
						}
					}
				}

				window.history.replaceState({}, "", `?puzzle=${crosswordNumber}&progress=${progressString}&minutes=${minutes}&seconds=${seconds}`);
				return progressString;
			}

			var minutesFromURL = item.get("minutes");
			var secondsFromURL = item.get("seconds");

			if (minutesFromURL != null && minutesFromURL != "" && secondsFromURL != null && secondsFromURL != "") {
				minutes = parseInt(minutesFromURL);
				seconds = parseInt(secondsFromURL);

				if (isNaN(minutes) || isNaN(seconds)) {
					window.location.href = "../yikes.html?s=400";
				}

				if (minutes < 0 || seconds < 0 || seconds >= 60) {
					window.location.href = "../yikes.html?s=400";
				}
			}

			function importProgress(progressString) {
				if (!/^[A-Z_\-]+$/.test(progressString)) throw new Error();
				let progressArray = progressString.split("");

				for (let i = 0; i < crosswordHeight; i++) {
					for (let j = 0; j < crosswordWidth; j++) {
						let squareElement = document.querySelector(`#s${i}-${j}`);
						let letter = progressArray[i * crosswordWidth + j];
						if (letter == undefined) throw new Error();
						if (letter != "-" && letter != "_" && !squareElement.classList.contains("void")) {
							squareElement.firstChild.innerHTML = letter;
						}
					}
				}
			}

			var progressFromURL = item.get("progress");

			if (progressFromURL != null && progressFromURL != "") {
				try {
					importProgress(progressFromURL);

					timerContainerElement.style = `width: ${92 + 18 * minutes.toString().length}px`;
					if (seconds < 10) pad = "0";
					else pad = "";
					timerElement.innerHTML = `${minutes}:${pad}${seconds}`;

					checkForWin();
				} catch {
					window.location.href = "../yikes.html?s=400";
				}
			}
		</script>
	</body>
</html>
