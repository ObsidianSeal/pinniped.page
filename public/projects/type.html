<!DOCTYPE html>

<html lang="en">
	<head>
		<title>keyPressTest</title>

		<meta charset="UTF-8" />

		<link rel="icon" href="../images/icon.png" />

		<meta name="theme-color" content="#ff6b6b" />

		<script src="https://kit.fontawesome.com/c6ef7d4818.js" crossorigin="anonymous"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<link rel="stylesheet" href="../files/main.css" />

		<meta property="og:url" content="https://pinniped.page/projects/type" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="type" />
		<meta property="og:description" content="...?" />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />
	</head>

	<body style="padding: 20px">
		<h3 id="text"></h3>

		<form name="input" id="input">
			<input name="text" style="margin: 20px 0 20px 0" />
		</form>

		<h3 id="keyCode"></h3>

		<script>
			let textArray;
			let text = document.getElementById("text");
			const keys = {};
			const specialKeys = [
				"ArrowUp",
				"ArrowDown",
				"ArrowLeft",
				"ArrowRight",
				"Escape",
				"Insert",
				"Delete",
				"Backspace",
				"Tab",
				"Shift",
				"CapsLock",
				"Enter",
				"Control",
				"Alt",
				"Meta",
				"<",
				">",
				"Home",
				"End",
				"PageUp",
				"PageDown",
			];

			document.addEventListener("keydown", (e) => {
				keys[e.key] = true;
				document.getElementById("keyCode").innerHTML = e.keyCode;

				if (!specialKeys.includes(e.key)) {
					text.innerHTML = text.innerHTML + e.key;
				}

				if (e.key === "Backspace") {
					let string = text.innerHTML;
					textArray = string.split("");
					textArray.pop();
					string = textArray.join("");
					text.innerHTML = string;
				}

				if (keys["Shift"] === true && e.key === "Backspace") {
					text.innerHTML = "";
				}
				if (keys["Shift"] === true && e.key === "Enter") {
					document.documentElement.requestFullscreen();
				}
			});

			document.addEventListener("keyup", (e) => {
				delete keys[e.key];
				document.input.text.value = "";
				document.getElementById("keyCode").innerHTML = document.getElementById("keyCode").innerHTML + "<br>" + e.keyCode;
			});

			document.getElementById("input").addEventListener("submit", (e) => {
				e.preventDefault();
			});
		</script>
	</body>
</html>
