<!DOCTYPE html>

<html lang="en">
	<head>
		<title>Chess — FEN preview</title>

		<meta charset="UTF-8" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta name="theme-color" content="#4ecdc4" />

		<link rel="icon" href="../../images/icon.png" />

		<script src="../../files/menu.js"></script>

		<script src="https://kit.fontawesome.com/c6ef7d4818.js" crossorigin="anonymous"></script>

		<meta property="og:url" content="https://pinniped.page/projects/chess/board" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Chess — FEN preview" />
		<meta property="og:description" content="FEN preview" />
		<meta property="og:image" content="https://pinniped.page/images/icon.png" />

		<style>
			body {
				margin: 0;
				border: 0;
				padding: 0;
				background-color: #fcfcfa;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.board {
				width: 100%;
				max-width: 600px;
				max-height: 600px;
				aspect-ratio: 1 / 1;
				background-color: #2d2a2e;
				display: flex;
				flex-wrap: wrap;
				font-size: 56px;
			}

			.board div {
				width: calc(100% / 8);
				max-width: 75px;
				max-height: 75px;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.light {
				background-color: #363337;
			}

			.red {
				color: #ff6188;
			}

			.blue {
				color: #78dce8;
			}

			@media all and (max-width: 600px) {
				.board {
					font-size: 52px;
				}
			}

			@media all and (max-width: 550px) {
				.board {
					font-size: 48px;
				}
			}

			@media all and (max-width: 500px) {
				.board {
					font-size: 44px;
				}
			}

			@media all and (max-width: 450px) {
				.board {
					font-size: 40px;
				}
			}

			@media all and (max-width: 400px) {
				.board {
					font-size: 36px;
				}
			}

			@media all and (max-width: 350px) {
				.board {
					font-size: 32px;
				}
			}

			@media all and (max-width: 300px) {
				.board {
					font-size: 28px;
				}
			}

			@media all and (max-width: 250px) {
				.board {
					font-size: 24px;
				}
			}

			@media all and (max-width: 200px) {
				.board {
					font-size: 20px;
				}
			}
		</style>
	</head>

	<body>
		<div class="board">
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>

			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>

			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>

			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>

			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>

			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>

			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>

			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
			<div></div>
			<div class="light"></div>
		</div>

		<script>
			// --- perfect position on mobile too ---
			const screenHeight = window.innerHeight;
			document.querySelector("body").style = `height: ${screenHeight}px`;

			// --- place empty icons ---
			var x = 0;
			document.querySelectorAll(".board div").forEach((element) => {
				x++;
				const pieceIcon = document.createElement("i");
				pieceIcon.setAttribute("id", x);
				pieceIcon.setAttribute("class", `fa-solid`);
				element.appendChild(pieceIcon);
			});

			// --- load FEN ---
			const pieces = ["pawn", "rook", "knight", "bishop", "queen", "king"];
			const defaultFEN = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";

			function loadFEN(FEN) {
				const FENarray = FEN.split("");

				var i = 0;
				FENarray.forEach((char) => {
					if (char >= 1 && char <= 8) {
						i += parseInt(char);
					} else {
						if (char == "/") {
							return;
						}
						i++;

						if (char == "p") {
							document.getElementById(i).classList.add("fa-chess-pawn");
							document.getElementById(i).classList.add("red");
						}
						if (char == "r") {
							document.getElementById(i).classList.add("fa-chess-rook");
							document.getElementById(i).classList.add("red");
						}
						if (char == "n") {
							document.getElementById(i).classList.add("fa-chess-knight");
							document.getElementById(i).classList.add("red");
						}
						if (char == "b") {
							document.getElementById(i).classList.add("fa-chess-bishop");
							document.getElementById(i).classList.add("red");
						}
						if (char == "q") {
							document.getElementById(i).classList.add("fa-chess-queen");
							document.getElementById(i).classList.add("red");
						}
						if (char == "k") {
							document.getElementById(i).classList.add("fa-chess-king");
							document.getElementById(i).classList.add("red");
						}

						if (char == "P") {
							document.getElementById(i).classList.add("fa-chess-pawn");
							document.getElementById(i).classList.add("red");
						}
						if (char == "R") {
							document.getElementById(i).classList.add("fa-chess-rook");
							document.getElementById(i).classList.add("red");
						}
						if (char == "N") {
							document.getElementById(i).classList.add("fa-chess-knight");
							document.getElementById(i).classList.add("red");
						}
						if (char == "B") {
							document.getElementById(i).classList.add("fa-chess-bishop");
							document.getElementById(i).classList.add("red");
						}
						if (char == "Q") {
							document.getElementById(i).classList.add("fa-chess-queen");
							document.getElementById(i).classList.add("red");
						}
						if (char == "K") {
							document.getElementById(i).classList.add("fa-chess-king");
							document.getElementById(i).classList.add("red");
						}
					}
				});
			}

			loadFEN(defaultFEN);
		</script>
	</body>
</html>
